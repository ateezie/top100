if(window.__tnt||(window.__tnt={}),__tnt.video||(__tnt.video={}),__tnt.video.plugins||(__tnt.video.plugins={}),__tnt.video.vast={url:function(e,t){var n=new Date,i="",u=encodeURIComponent(document.location.href),v=480,a=640,c=document.querySelector("video.tnt-video"),r=document.head.querySelector("meta[name=keywords]"),o="",l=document.body.getAttribute("data-path");if(document.head.querySelector("link[rel=canonical]")&&(i=encodeURIComponent(document.head.querySelector("link[rel=canonical]").href)),o==""&&r&&(o=r.content.trim(),o.endsWith(",")&&(o=o.slice(0,-1))),c&&(v=c.height,a=c.width),typeof t>"u"&&(t=[{key:/%%canonical_url%%/g,value:i},{key:/%%full_url%%/g,value:u},{key:/%%timestamp%%/g,value:n.getTime()},{key:/%%width%%/g,value:a},{key:/%%height%%/g,value:v},{key:/%%random%%/g,value:Math.trunc(Math.random()*Math.pow(10,6))},{key:/%%keywords%%/g,value:o},{key:/%%path%%/g,value:l}]),typeof e<"u"){if(t.length)for(var d=0;d<t.length;d++)try{e=e.replace(t[d].key,t[d].value)}catch{}return e}return!1},urlCheck:function(e){try{var t=new URL(e);return!0}catch{return!1}return!0},feed:"",feedRetrieved:!1},typeof window.CustomEvent=="function")window.videoReady=new CustomEvent("tntVideoReady"),window.videoEnded=new CustomEvent("tntVideoEnded");else{var videoReady=document.createEvent("Event"),videoEnded=document.createEvent("Event");videoReady.initEvent("tntVideoReady",!0,!0,{}),videoEnded.initEvent("tntVideoEnded",!0,!0,{})}__tnt.video.ready=function(){__tnt.video.vast.urlCheck(__tnt.video.vastUrl)&&!__tnt.video.vastUrl.match("pubads.g.doubleclick.net")&&typeof window.fetch=="function"?fetch(__tnt.video.vast.url(__tnt.video.vastUrl)).then(function(e){return e.text().then(function(t){__tnt.video.vast.feed=t,__tnt.video.vast.feedRetrieved=!0,document.dispatchEvent(videoReady)})}).catch(function(e){document.dispatchEvent(videoReady)}):document.dispatchEvent(videoReady)},document.readyState==="complete"?__tnt.video.ready():document.addEventListener("DOMContentLoaded",__tnt.video.ready),__tnt.video.advertising=function(e){var t=e.el().closest(".tnt-video-container"),n=e.el().getAttribute("data-vast-url");if(n==null&&(n=__tnt.video.vastUrl),t&&__tnt.video.vast.urlCheck(n)&&t.getAttribute("data-live")!="true"){__tnt.video.register(e);var i={id:e.id()};__tnt.video.vastUrl.match("pubads.g.doubleclick.net")||n!=null&&n!=__tnt.video.vastUrl?(i.adTagUrl=__tnt.video.vast.url(n),i.prerollTimeout=5e3):(i.adsResponse=__tnt.video.vast.feed,i.prerollTimeout=5e3),e.ima(i),e.one("play",function(){e.ima.initializeAdDisplayContainer()}),e.one("adstart",function(){__tnt.video.blox.players[e.id()].adPlaying=!0}),e.on("ads-manager",function(u){var v=u.adsManager;v.addEventListener(google.ima.AdEvent.Type.STARTED,function(a){switch(a.type){case google.ima.AdEvent.Type.STARTED:var c=a.getAd(),r=new google.ima.CompanionAdSelectionSettings;if(r.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.STATIC,r.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.IMAGE,r.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,__tnt.video.companion){var o=c.getCompanionAds(__tnt.video.companion.width,__tnt.video.companion.height,r),l=o[0],d="";if(__tnt.video.companion.id&&(d=__tnt.video.companion.id),typeof l<"u"&&d!=""){var _=l.getContent(),s=document.getElementById(d);_&&s&&(s.innerHTML=_)}}break}})}),e.one("adend",function(){var u=e.el().querySelector("source").src,v=__tnt.video.mimetype(u),a=__tnt.video.blox.players[e.id()].resumeAt;__tnt.video.blox.players[e.id()].adPlaying=!1,e.currentTime(a),setTimeout(function(){e.play()},250)})}};
//# sourceMappingURL=tnt.video.ads.vast-ima.7.1.931fe01d669ae870f8e8306e3109f3ee.js.map
