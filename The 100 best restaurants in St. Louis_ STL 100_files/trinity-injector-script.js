(function(){var __webpack_modules__={1987:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],a=0;a<e.length;a++)t.push(255&e.charCodeAt(a));return t},bytesToString:function(e){for(var t=[],a=0;a<e.length;a++)t.push(String.fromCharCode(e[a]));return t.join("")}}};e.exports=t},9919:function(e){var t,a;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&a.rotl(e,8)|4278255360&a.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=a.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],a=0,r=0;a<e.length;a++,r+=8)t[r>>>5]|=e[a]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],a=0;a<32*e.length;a+=8)t.push(e[a>>>5]>>>24-a%32&255);return t},bytesToHex:function(e){for(var t=[],a=0;a<e.length;a++)t.push((e[a]>>>4).toString(16)),t.push((15&e[a]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(parseInt(e.substr(a,2),16));return t},bytesToBase64:function(e){for(var a=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],n=0;n<4;n++)8*r+6*n<=8*e.length?a.push(t.charAt(i>>>6*(3-n)&63)):a.push("=");return a.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var a=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&a.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return a}},e.exports=a},7634:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},9614:function(e,t,a){var r;!function(){"use strict";var t="object"==typeof window?window:{};!t.JS_CRC_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node&&(t=a.g);var i,n,s,o,l=!t.JS_CRC_NO_COMMON_JS&&e.exports,d=a.amdO,c=!t.JS_CRC_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,p="0123456789abcdef".split(""),u=[{name:"crc32",polynom:3988292384,initValue:-1,bytes:4},{name:"crc16",polynom:40961,initValue:0,bytes:2}];for(i=0;i<u.length;++i){for((_=u[i]).method=function(e){return function(t){return h(t,e)}}(_),_.table=[],n=0;n<256;++n){for(o=n,s=0;s<8;++s)o=1&o?_.polynom^o>>>1:o>>>1;_.table[n]=o>>>0}}var h=function(e,t){var a="string"!=typeof e;a&&c&&e instanceof ArrayBuffer&&(e=new Uint8Array(e));var r,i,n=t.initValue,s=e.length,o=t.table;if(a)for(i=0;i<s;++i)n=o[255&(n^e[i])]^n>>>8;else for(i=0;i<s;++i)n=(r=e.charCodeAt(i))<128?o[255&(n^r)]^n>>>8:r<2048?o[255&((n=o[255&(n^(192|r>>6))]^n>>>8)^(128|63&r))]^n>>>8:r<55296||r>=57344?o[255&((n=o[255&((n=o[255&(n^(224|r>>12))]^n>>>8)^(128|r>>6&63))]^n>>>8)^(128|63&r))]^n>>>8:o[255&((n=o[255&((n=o[255&((n=o[255&(n^(240|(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)))>>18))]^n>>>8)^(128|r>>12&63))]^n>>>8)^(128|r>>6&63))]^n>>>8)^(128|63&r))]^n>>>8;n^=t.initValue;var l="";return t.bytes>2&&(l+=p[n>>28&15]+p[n>>24&15]+p[n>>20&15]+p[n>>16&15]),l+=p[n>>12&15]+p[n>>8&15]+p[n>>4&15]+p[15&n]},m={};for(i=0;i<u.length;++i){m[(_=u[i]).name]=_.method}if(l)e.exports=m;else{for(i=0;i<u.length;++i){var _;t[(_=u[i]).name]=_.method}d&&(void 0===(r=function(){return m}.call(m,a,m,e))||(e.exports=r))}}()},523:function(e,t,a){var r,i,n,s,o;r=a(9919),i=a(1987).utf8,n=a(7634),s=a(1987).bin,(o=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):i.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var a=r.bytesToWords(e),l=8*e.length,d=1732584193,c=-271733879,p=-1732584194,u=271733878,h=0;h<a.length;h++)a[h]=16711935&(a[h]<<8|a[h]>>>24)|4278255360&(a[h]<<24|a[h]>>>8);a[l>>>5]|=128<<l%32,a[14+(l+64>>>9<<4)]=l;var m=o._ff,_=o._gg,g=o._hh,y=o._ii;for(h=0;h<a.length;h+=16){var f=d,b=c,T=p,w=u;d=m(d,c,p,u,a[h+0],7,-680876936),u=m(u,d,c,p,a[h+1],12,-389564586),p=m(p,u,d,c,a[h+2],17,606105819),c=m(c,p,u,d,a[h+3],22,-1044525330),d=m(d,c,p,u,a[h+4],7,-176418897),u=m(u,d,c,p,a[h+5],12,1200080426),p=m(p,u,d,c,a[h+6],17,-1473231341),c=m(c,p,u,d,a[h+7],22,-45705983),d=m(d,c,p,u,a[h+8],7,1770035416),u=m(u,d,c,p,a[h+9],12,-1958414417),p=m(p,u,d,c,a[h+10],17,-42063),c=m(c,p,u,d,a[h+11],22,-1990404162),d=m(d,c,p,u,a[h+12],7,1804603682),u=m(u,d,c,p,a[h+13],12,-40341101),p=m(p,u,d,c,a[h+14],17,-1502002290),d=_(d,c=m(c,p,u,d,a[h+15],22,1236535329),p,u,a[h+1],5,-165796510),u=_(u,d,c,p,a[h+6],9,-1069501632),p=_(p,u,d,c,a[h+11],14,643717713),c=_(c,p,u,d,a[h+0],20,-373897302),d=_(d,c,p,u,a[h+5],5,-701558691),u=_(u,d,c,p,a[h+10],9,38016083),p=_(p,u,d,c,a[h+15],14,-660478335),c=_(c,p,u,d,a[h+4],20,-405537848),d=_(d,c,p,u,a[h+9],5,568446438),u=_(u,d,c,p,a[h+14],9,-1019803690),p=_(p,u,d,c,a[h+3],14,-187363961),c=_(c,p,u,d,a[h+8],20,1163531501),d=_(d,c,p,u,a[h+13],5,-1444681467),u=_(u,d,c,p,a[h+2],9,-51403784),p=_(p,u,d,c,a[h+7],14,1735328473),d=g(d,c=_(c,p,u,d,a[h+12],20,-1926607734),p,u,a[h+5],4,-378558),u=g(u,d,c,p,a[h+8],11,-2022574463),p=g(p,u,d,c,a[h+11],16,1839030562),c=g(c,p,u,d,a[h+14],23,-35309556),d=g(d,c,p,u,a[h+1],4,-1530992060),u=g(u,d,c,p,a[h+4],11,1272893353),p=g(p,u,d,c,a[h+7],16,-155497632),c=g(c,p,u,d,a[h+10],23,-1094730640),d=g(d,c,p,u,a[h+13],4,681279174),u=g(u,d,c,p,a[h+0],11,-358537222),p=g(p,u,d,c,a[h+3],16,-722521979),c=g(c,p,u,d,a[h+6],23,76029189),d=g(d,c,p,u,a[h+9],4,-640364487),u=g(u,d,c,p,a[h+12],11,-421815835),p=g(p,u,d,c,a[h+15],16,530742520),d=y(d,c=g(c,p,u,d,a[h+2],23,-995338651),p,u,a[h+0],6,-198630844),u=y(u,d,c,p,a[h+7],10,1126891415),p=y(p,u,d,c,a[h+14],15,-1416354905),c=y(c,p,u,d,a[h+5],21,-57434055),d=y(d,c,p,u,a[h+12],6,1700485571),u=y(u,d,c,p,a[h+3],10,-1894986606),p=y(p,u,d,c,a[h+10],15,-1051523),c=y(c,p,u,d,a[h+1],21,-2054922799),d=y(d,c,p,u,a[h+8],6,1873313359),u=y(u,d,c,p,a[h+15],10,-30611744),p=y(p,u,d,c,a[h+6],15,-1560198380),c=y(c,p,u,d,a[h+13],21,1309151649),d=y(d,c,p,u,a[h+4],6,-145523070),u=y(u,d,c,p,a[h+11],10,-1120210379),p=y(p,u,d,c,a[h+2],15,718787259),c=y(c,p,u,d,a[h+9],21,-343485551),d=d+f>>>0,c=c+b>>>0,p=p+T>>>0,u=u+w>>>0}return r.endian([d,c,p,u])})._ff=function(e,t,a,r,i,n,s){var o=e+(t&a|~t&r)+(i>>>0)+s;return(o<<n|o>>>32-n)+t},o._gg=function(e,t,a,r,i,n,s){var o=e+(t&r|a&~r)+(i>>>0)+s;return(o<<n|o>>>32-n)+t},o._hh=function(e,t,a,r,i,n,s){var o=e+(t^a^r)+(i>>>0)+s;return(o<<n|o>>>32-n)+t},o._ii=function(e,t,a,r,i,n,s){var o=e+(a^(t|~r))+(i>>>0)+s;return(o<<n|o>>>32-n)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var a=r.wordsToBytes(o(e,t));return t&&t.asBytes?a:t&&t.asString?s.bytesToString(a):r.bytesToHex(a)}},9662:function(e,t,a){var r={"./af-translation.js":[9889,9889],"./am-translation.js":[7828,7828],"./ar-translation.js":[2741,2741],"./bg-translation.js":[6381,6381],"./bn-translation.js":[8642,8642],"./ca-translation.js":[4054,4054],"./cs-translation.js":[4628,4628],"./cy-translation.js":[8110,8110],"./da-translation.js":[1453,1453],"./de-translation.js":[1369,1369],"./el-translation.js":[3123,3123],"./en-translation.js":[5949],"./es-translation.js":[1470],"./et-translation.js":[1355,1355],"./fa-translation.js":[9371,9371],"./fi-translation.js":[6435,6435],"./fr-translation.js":[9138,9138],"./ga-translation.js":[8914,8914],"./gl-translation.js":[1353,1353],"./gu-translation.js":[1870,1870],"./he-translation.js":[8077],"./hi-translation.js":[913,913],"./hu-translation.js":[317,317],"./id-translation.js":[6815,6815],"./is-translation.js":[8138,8138],"./it-translation.js":[8111,8111],"./ja-translation.js":[663,663],"./jv-translation.js":[3282,3282],"./km-translation.js":[5754,5754],"./kn-translation.js":[35,35],"./ko-translation.js":[2232,2232],"./lt-translation.js":[4430,4430],"./lv-translation.js":[7772,7772],"./ml-translation.js":[6011,6011],"./mr-translation.js":[3001,3001],"./ms-translation.js":[2070,2070],"./mt-translation.js":[2275,2275],"./my-translation.js":[9788,9788],"./nb-translation.js":[7466,7466],"./nl-translation.js":[5132,5132],"./no-translation.js":[2785,2785],"./pa-translation.js":[3713,3713],"./pl-translation.js":[6602,6602],"./pt-translation.js":[3490,3490],"./ro-translation.js":[1765,1765],"./ru-translation.js":[403,403],"./sk-translation.js":[1164,1164],"./sl-translation.js":[3733,3733],"./so-translation.js":[6672,6672],"./sr-translation.js":[8911,8911],"./su-translation.js":[4762,4762],"./sv-translation.js":[6771,6771],"./sw-translation.js":[680,680],"./ta-translation.js":[8365,8365],"./te-translation.js":[6985,6985],"./th-translation.js":[898,898],"./tr-translation.js":[9336,9336],"./uk-translation.js":[4806,4806],"./ur-translation.js":[3774,1393],"./uz-translation.js":[8649,8649],"./vi-translation.js":[9315,9315],"./zh-translation.js":[4676,4676],"./zu-translation.js":[1643,1643]};function i(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(i)}))}i.keys=function(){return Object.keys(r)},i.id=9662,e.exports=i},6588:function(e,t,a){"use strict";var r=a(1601),i=a.n(r),n=a(6314),s=a.n(n)()(i());s.push([e.id,'.trinity-tts-icon-player-button-wrapper {\n    position: relative;\n}\n\n[data-player-type="icon-expandable"][data-state="not_initialized"] {\n    min-height: auto !important;\n    display: block;\n}\n\n.trinity-icon-player-button {\n    display: none;\n}\n\n.trinity-icon-player-button svg {\n    width: inherit;\n    height: inherit;\n}\n\n[data-player-type="icon-expandable"]:not([data-state="not_initialized"]) + .trinity-icon-player-button {\n    display: block !important;\n}\n\n[data-player-type="icon-expandable"] .trinity-loader {\n    visibility: hidden;\n}\n',""]),t.A=s},8129:function(e,t,a){"use strict";var r=a(1601),i=a.n(r),n=a(6314),s=a.n(n)()(i());s.push([e.id,".trinity-hide {\n    display: none;\n}\n\n.trinity-if-hidden {\n    visibility: hidden !important;\n}\n\n.trinity-iframe {\n    width: 100%;\n    border: none;\n    overflow: hidden;\n    margin: 0;\n    padding: 0;\n    display: none;\n}\n\n.trinity-iframe.loaded {\n    display: block;\n    box-sizing: border-box;\n}\n\n.trinity-iframe:not(.loaded) + trinity-powered-by,\n.trinity-iframe.fab-view + trinity-powered-by {\n    display: none;\n}\n\n.trinity-iframe.fab-view {\n    position: fixed;\n    height: 70px !important;\n    width: 70px;\n}\n\n.trinity-iframe.fab-view.text-position-bottom {\n    box-shadow: none !important;\n    height: 105px !important;\n    width: 70px;\n}\n\n.trinity-iframe.fab-view.text-position-right, .trinity-iframe.fab-view.text-position-left {\n    height: 70px !important;\n    width: 130px; /* +5px both sides for shadow*/\n}\n\n.trinity-player-iframe-wrapper {\n    position: relative;\n    width: 100%;\n    padding: 0;\n}\n\n.trinity-player-iframe-wrapper .trinity-player-loading-animation {\n    text-align: initial;\n    line-height: 70px;\n}\n\n.trinity-player-iframe-wrapper .trinity-player-loading-animation > span {\n    margin: 0 0 0 10px;\n    line-height: 70px;\n    vertical-align: middle;\n    font-weight: bold;\n    font-size: 18px;\n    color: #000033;\n}\n\n.trinity-player-loading-animation-container {\n    all: initial;\n    vertical-align: middle;\n}\n\n.trinity-player-iframe-wrapper .trinity-player-loading-animation .trinity-player-loading-animation-container {\n    display: inline-block;\n}\n\n.fab-only {\n    visibility: hidden;\n    width: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n}\n\n.fab-only > .fab-view {\n    visibility: visible;\n}\n",""]),t.A=s},6314:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",r=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),r&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),r&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,r,i,n){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);r&&s[c[0]]||(void 0!==n&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=n),a&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=a):c[2]=a),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},1601:function(e){"use strict";e.exports=function(e){return e[1]}},7833:function(e,t,a){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const a="color: "+this.color;t.splice(1,0,a,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,a)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=a(736)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},736:function(e,t,a){e.exports=function(e){function t(e){let a,i,n,s=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),n=i-(a||i);r.diff=n,r.prev=a,r.curr=i,a=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((a,i)=>{if("%%"===a)return"%";s++;const n=t.formatters[i];if("function"==typeof n){const t=e[s];a=n.call(r,t),e.splice(s,1),s--}return a})),t.formatArgs.call(r,e);(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,n=t.enabled(e)),n),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,a){const r=t(this.namespace+(void 0===a?":":a)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let a;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(a=0;a<i;a++)r[a]&&("-"===(e=r[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let a,r;for(a=0,r=t.skips.length;a<r;a++)if(t.skips[a].test(e))return!1;for(a=0,r=t.names.length;a<r;a++)if(t.names[a].test(e))return!0;return!1},t.humanize=a(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((a=>{t[a]=e[a]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let a=0;for(let t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a|=0;return t.colors[Math.abs(a)%t.colors.length]},t.enable(t.load()),t}},4744:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===a}(e)}(e)};var a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((a=e,Array.isArray(a)?[]:{}),e,t):e;var a}function i(e,t,a){return e.concat(t).map((function(e){return r(e,a)}))}function n(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function o(e,t,a){var i={};return a.isMergeableObject(e)&&n(e).forEach((function(t){i[t]=r(e[t],a)})),n(t).forEach((function(n){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,n)||(s(e,n)&&a.isMergeableObject(t[n])?i[n]=function(e,t){if(!t.customMerge)return l;var a=t.customMerge(e);return"function"==typeof a?a:l}(n,a)(e[n],t[n],a):i[n]=r(t[n],a))})),i}function l(e,a,n){(n=n||{}).arrayMerge=n.arrayMerge||i,n.isMergeableObject=n.isMergeableObject||t,n.cloneUnlessOtherwiseSpecified=r;var s=Array.isArray(a);return s===Array.isArray(e)?s?n.arrayMerge(e,a,n):o(e,a,n):r(a,n)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,a){return l(e,a,t)}),{})};var d=l;e.exports=d},9270:function(e,t){"use strict";t.A={CUSTOM_DEPART_EVENT:"trinityDepartFireEvent"}},2018:function(e,t){"use strict";t.A={injectorImp:"injectorImp",req:"req",imp:"imp",playerReady:"playerReady",contentReady:"contentReady",cookieSyncCompleted:"cookieSyncCompleted",playClicked:"playClicked",pauseClicked:"pauseClicked",adPauseClicked:"adPauseClicked",beforeAdRollPauseClicked:"beforeAdRollPauseClicked",sergioReq:"sergioReq",errorSergio:"errorSergio",resumed:"resumed",adResumed:"adResumed",beforeAdRollResumed:"beforeAdRollResumed",beforeAdRollLoading:"beforeAdRollLoading",adLoading:"adLoading",contentStartedLoading:"contentStartedLoading",beforeAdRollLoaded:"beforeAdRollLoaded",onAdLoaded:"onAdLoaded",audioLoaded:"audioLoaded",beforeAdRollStarted:"beforeAdRollStarted",onAdStarted:"onAdStarted",contentStarted:"contentStarted",adOpp:"adOpp",onNoAd:"onNoAd",errorAd:"errorAd",tr:"tr",onFirstQuartile:"onFirstQuartile",onAdFirstQuartile:"onAdFirstQuartile",onMidPoint:"onMidPoint",onAdMidPoint:"onAdMidPoint",onThirdQuartile:"onThirdQuartile",onAdThirdQuartile:"onAdThirdQuartile",beforeAdRollComplete:"beforeAdRollComplete",onAdComplete:"onAdComplete",onComplete:"onComplete",scrubbing:"scrubbing",seekBeforePlayClicked:"seekBeforePlayClicked",userScrollEvent:"userScrollEvent",clickLink:"clickLink",clickLockedLink:"clickLockedLink",setPlaybackRate:"setPlaybackRate",adSetPlaybackRateClicked:"adSetPlaybackRateClicked",setTranslationLanguage:"setTranslationLanguage",clickTranslationIcon:"clickTranslationIcon",performance:"performance",heartBeat:"heartBeat",swipeNext:"swipeNext",swipePrevious:"swipePrevious",skip:"skip",exitedView:"exitedView",enteredView:"enteredView",leavePage:"leavePage",fetchMetaAlert:"fetchMetaAlert",fetchMetaTookMs:"fetchMetaTookMs",emptyMAPlaylist:"emptyMAPlaylist",rewind:"rewind",forward:"forward",adRewindClicked:"adRewindClicked",adForwardClicked:"adForwardClicked",shareClick:"shareClick",shareDone:"shareDone",shareNotAvailable:"shareNotAvailable",appearanceChanged:"appearanceChanged",error:"error",apiUsed:"apiUsed",reportIssueClicked:"reportIssueClicked",giveFeedbackClicked:"giveFeedbackClicked",needHelpClicked:"needHelpClicked",displayOverlayReturnToPlayer:"displayOverlayReturnToPlayer",poweredByTagMissed:"poweredByTagMissed"}},8179:function(e,t,a){"use strict";a.d(t,{A:function(){return l}});var r=a(1672),i=a(6046),n=a(2018),s=a(8088),o=a(9270);class l{constructor({commonData:e={},host:t="depart.trinitymedia.ai",logPrefix:a="TRINITY",topic:s="audio",enableTestMode:o,disabledDepartEvents:l=[],isFireCustomEvent:d,isSendVAST:c=!1}){this.EVENTS=n.A,this.logPrefix=a,this.trackURL=`https://${t}/api/collect`,this.topic=s,this.enableTestMode=o,this.disabledDepartEvents=l,this.playerMode=e.playerMode||"default",this.isFireCustomEvent=d,this.isSendVAST=c,this.constDepartData={},this.commonData=e,this.commonData.revenueConfig={pubShare:this.commonData.pubShare},this.contentData={},this.constDepartData.imp_id=this.commonData.imp_id,this.constDepartData.content_type=this.commonData.contentMode,this.constDepartData.campaign_id=Number(this.commonData.unitId),this.constDepartData.top_domain=i.A.removeSubDomainsFromHost(this.commonData.topDomain||window.location.hostname).toLowerCase(),this.constDepartData.partner_name=this.commonData.partnerName,this.constDepartData.platform=this.commonData.platform,this.constDepartData.seller_id=Number(this.commonData.publisherId),this.constDepartData.unit_theme_id=Number(this.commonData.themeId),this.commonData?.brandedPlayerOptions&&(this.constDepartData.branded_demand_id=Number(this.commonData.brandedPlayerOptions.demandId),this.constDepartData.unit_theme_id=Number(this.commonData.brandedPlayerOptions.themeId)),this.constDepartData.user_data=this.commonData.userData,this.constDepartData.user_id=this.commonData.uuid,this.constDepartData.geo=this.commonData.geo,this.constDepartData.region=this.commonData.state,this.constDepartData.city=this.commonData.city,this.constDepartData.referrer=document.referrer||window.location.href,this.constDepartData.url=this.commonData.pageURL,this.constDepartData.server=this.commonData.server,this.constDepartData.server_region=this.commonData.server_region,this.constDepartData.server_env=this.commonData.server_env,this.constDepartData.ip=this.commonData.ip,this.constDepartData.user_agent=window.navigator.userAgent,this.constDepartData.device_type=i.A.isMobile()?"mobile":"desktop",this.constDepartData.user_agent_data=this.commonData.userAgentData||{},this.constDepartData.connection_details=i.A.networkInfo,this.isBot=this.constDepartData.user_agent_data.is_bot,this.constDepartData.ab_test=Number(this.commonData.paramsObject?.testId),this.commonData.departIntValues&&(this.commonData.departIntValues.int1&&(this.constDepartData.int1=this.commonData.departIntValues.int1),this.commonData.departIntValues.int2&&(this.constDepartData.int2=this.commonData.departIntValues.int2),this.commonData.departIntValues.int3&&(this.constDepartData.int3=this.commonData.departIntValues.int3),this.commonData.departIntValues.int4&&(this.constDepartData.int4=this.commonData.departIntValues.int4),this.commonData.departIntValues.int5&&(this.constDepartData.int5=this.commonData.departIntValues.int5)),this.commonData.departStrValues&&(this.commonData.departStrValues.str1&&(this.constDepartData.str1=this.commonData.departStrValues.str1),this.commonData.departStrValues.str2&&(this.constDepartData.str2=this.commonData.departStrValues.str2),this.commonData.departStrValues.str3&&(this.constDepartData.str3=this.commonData.departStrValues.str3),this.commonData.departStrValues.str4&&(this.constDepartData.str4=this.commonData.departStrValues.str4),this.commonData.departStrValues.str5&&(this.constDepartData.str5=this.commonData.departStrValues.str5)),this.constDepartData.unit_type=this.commonData.unitType,this.constDepartData.player_version=this.commonData.version,this.constDepartData.sdk_data=this.commonData.SDKData,this.language=this.commonData.language,this.updatePublisherSections([]),this.isBot&&(this.constDepartData.int3=Number(this.isRequestFromCache())),this.postMessageHelper=new r.A({playerId:this.commonData.playerId})}updatePublisherSections(e){this.constDepartData.sections=e}prepareData(e,t={}){if("string"!=typeof e)return void console.error(this.logPrefix,"Depart kind is not defined");const a={kind:e,...this.constDepartData,...t,content_id:this.contenId,content_asset_hash:this.contentAssetHash,content_hash:this.contentHash,language:this.language,ms_from_imp:parseInt(Date.now()-this.commonData.ts,10),multiple_article:this.getMultipleArticles(),player_mode:this.playerMode};return this.dataNormalization(a)}trackErrorAd(e){let t;const a=l.prepare.adData({adPlacement:this.adPlacement},{});return t="string"==typeof e?{...a,error:e}:{...a,...e},this.trackError(l.EVENTS.errorAd,t)}trackError(e,t){try{const a=l.prepare.errorMessage(t);if(!i.A.isErrorUnique(a.text_value))return;return this._logErrorToConsole(e,a),this.track(e,a)}catch(t){const a=t.stack||t;this._logErrorToConsole(e,a),this.track(l.EVENTS.error,{text_value:a})}}trackContent(e,t={}){try{const a={...l.prepare.contentData(this.contentData),...t};return this.track(e,a)}catch(e){this.trackError(l.EVENTS.error,e)}}trackAd(e,t,a={},r={}){try{t.adPlacement||(t.adPlacement=this.adPlacement);const i={...l.prepare.adData(t,a),...r};return this.track(e,i)}catch(e){this.trackError(l.EVENTS.error,e)}}track(e,t){try{const a={...this.prepareData(e,t),...l.prepare.contentData(this.contentData)};return this.isFireCustomEvent&&i.A.fireDepartCustomEvent(e,a),this.sendDataPost(a),a}catch(e){this.lastResort(e)}}lastResort(e){if(this.isBot)return;const t={kind:l.EVENTS.error,url:this.commonData.pageURL||null,imp_id:this.commonData.imp_id,text_value:`LastResort: ${e.stack||e}`};this.sendDataPost(t)}sendDataPost(e){if(this.sendPostMessage(e),!this._isEventAllowedToSend(e.kind))return;if(this._isSkipBots(e.kind))return;const t=new URLSearchParams;if(t.set("t",this.topic),this.enableTestMode){t.set("_index",++l.counter);for(const[a,r]of Object.entries(e)){let e=r;"object"==typeof r&&(e=JSON.stringify(r)),t.set(a,e)}const a=`${this.trackURL}?${t.toString()}`;return fetch(a,{method:"POST"}).catch(console.error)}const a=`${this.trackURL}?${t.toString()}`,r=JSON.stringify({...e,t:this.topic});if(e.kind===n.A.leavePage&&navigator.sendBeacon)return navigator.sendBeacon(a,r);fetch(a,{method:"POST",mode:this.enableTestMode?void 0:"no-cors",headers:{"Content-Type":"application/json"},body:r}).catch((()=>{}))}dataNormalization(e){return e.revenue&&(e.revenue=Number(Number(e.revenue).toFixed(4))),e.publisher_revenue&&(e.publisher_revenue=Number(Number(e.publisher_revenue).toFixed(4))),e.demand_id&&(e.demand_id=Number(e.demand_id)),i.A.clearEmptyValues(e)}getMultipleArticles(){return{content_number:this.articleCounter||1,algo:this.commonData.multipleArticlesAlg}}setArticleCounter(e){this.articleCounter=Number(e)}setContentData(e={}){this.contentData=i.A.clearEmptyValues({...this.contentData,...e}),this.contentData.content_hash&&this.setContentHash(this.contentData.content_hash),this.contentData.content_asset_hash&&this.setContentAssetHash(this.contentData.content_asset_hash)}_logErrorToConsole(e,t){e===l.EVENTS.error&&console.error(this.logPrefix,t)}_isSkipBots(e){return this.isBot&&(e.startsWith("error")||e===n.A.tr)}_isEventAllowedToSend(e){return!this.disabledDepartEvents.includes(e)}sendPostMessage(e){const t=e.kind;if(!r.A.publicMessages[t])return;let a=e.text_value;try{a=JSON.parse(e.text_value)}catch(e){}a=this._appendAdditionalInfo(a),this.postMessageHelper.sendToParent({action:t,message:a,isPublic:!0})}_appendAdditionalInfo(e){return this.commonData.abtest&&(e||(e={}),e.abtest=this.commonData.abtest),e}setPlayerMode(e){this.playerMode=e}setAdPlacement(e){this.adPlacement=e}setContentId(e){this.contenId=e}setContentAssetHash(e){this.contentAssetHash=e}setContentHash(e){this.contentHash=e}setLanguage(e){this.language=e}updateUserData(e={}){this.constDepartData.user_data={...this.constDepartData.user_data,...e}}isRequestFromCache({tsDiffMinutes:e=15}={}){const t=60*e*1e3;return Date.now()-this.commonData.tsServer>t}}l.counter=0,l.EVENTS=n.A,l.prepare=s.A,l.CUSTOM_DEPART_EVENT=o.A.CUSTOM_DEPART_EVENT},8088:function(e,t,a){"use strict";var r=a(6046);t.A={adData:(e,t)=>{const a=r.A.clearEmptyValues({ad_type:e.adType,ad_size:e.adSize,ad_title:e.mediaTitle,media_file:e.mediaFile,vast_media_duration:e.vastMediaDuration,ad_system:e.adSystem,ad_placement:e.adPlacement,ad_slot:e?.adSlotName,ad_slot_content_duration:e?.adSlot?.duration,ad_slot_auction_content_time:e?.adSlot?.currentTime,ad_slot_rollout_time:e?.adSlot?.rolloutTime,ad_slot_rollout_percentage:e?.adSlot?.rolloutPercentage,advertiser:e.advertiser,categories:e.categories,companion_showed:e.companionShowed,ad_config:e.adConfig,integration:e.integration,auction_number:e.auctionNumber,ad_number:e.adNumber});return r.A.clearEmptyValues({demand_id:Number(t.tagId||t.demandId),ad_data:a})},errorMessage:e=>{let t={};if(e instanceof Error)t.text_value=e?e.stack||e:"No error message";else if("object"==typeof e){const{error:a,...r}=e;t={...r,text_value:a?a.stack||a:e}}else t.text_value=e;return r.A.clearEmptyValues(t)},contentData:e=>{const t={title:r.A.removeEmojis(e.title),text_length:Number(e.text_length),duration:Number(e.duration),content_url:r.A.removeHash(e.content_url),content_hash:e.content_hash,content_asset_hash:e.content_asset_hash,canonical_url:e.canonical_url,canonical_hash:e.canonical_hash};return{content_data:r.A.clearEmptyValues(t)}},transformContentData:(e={})=>({title:e.articleTitle,text_length:e.text?.length?Number(e.text?.length):void 0,duration:e.estimatedDuration?Number(e.estimatedDuration):void 0,content_url:r.A.removeHash(e.contentURL),content_hash:e.contentHash,content_asset_hash:e.contentAssetHash})}},6046:function(e,t,a){"use strict";var r=a(726),i=a(9270);const n=/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/g,s=["www"],o=function(){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!e)return;return{effectiveType:e.effectiveType,rtt:e.rtt,downlink:e.downlink}}(),l=[];t.A={isMobile(){return window.navigator.userAgent.toLowerCase().includes("mobi")},networkInfo:o,clearEmptyValues(e){for(const t of Object.keys(e))(null===e[t]||void 0===e[t]||Number.isNaN(e[t]))&&delete e[t];return e},removeSubDomainsFromHost(e){return r.A.removeSubDomainsFromHost(e,s)},isErrorUnique(e){return!l.includes(e)&&(l.push(e),!0)},fireDepartCustomEvent(e,t){const a=new CustomEvent(i.A.CUSTOM_DEPART_EVENT,{detail:{kind:e,data:t}});window.dispatchEvent(a)},removeEmojis(e){return(e=e||"").replace(n,"")},removeHash(e){if(e)return e.split("#")[0]},_resetLoggedErrors(){l.length=0}}},5720:function(e,t){"use strict";t.A={displayModes:{displayExpanded:"display_expanded",displayOverlay:"display_overlay"},displaySizes:[{width:970,height:90},{width:728,height:90},{width:468,height:60},{width:320,height:50},{width:300,height:250},{width:234,height:60}],displayOverlayDefaults:{timeout:2e3,height:90},displayExpandedDefaults:{maxAdHeight:250},defaultRefreshInterval:3e4,returnToPlayerDefaults:{stripe:{height:20,backgroundColor:"#0077FF"}}}},5949:function(e,t,a){"use strict";a.r(t),t.default={fabInitialTitle:"Listen now",initialTitle:"Listen to this article now",playingTitle:"Playing article",sponsoredContentTitle:"Article will start after this message",prerollTitle:"Article will start after the ad",iprerollTitle:"Article will resume after the ad",icustom_positionTitle:"Article will resume after the ad",midrollTitle:"Article will resume after the ad",timebasedTitle:"Article will resume after the ad",postrollTitle:"Playing ad",loading:"Loading...",playerLoadingTitle:"We're loading your content, stay tuned!",playerLoadingTitleMobile:"We're loading your content ...",nextArticle:"Next:",playingMultipleArticles:"Playing:",googleTranslateTopDomainMsg:"Google translated text is not supported",subscriptionLocked:"Subscribe to listen",badgeTooltip:"We support Ukraine. For more information click here",shareMessage:"I've listened to this article and thought you could enjoy it too",support:{buttonText:"Need help?",contentText:"Computer-generated audio. Inconsistencies in pronunciation, sentiment and tone may occur",reportIssueText:"Report an issue",reportIssueURL:"https://docs.google.com/forms/d/e/1FAIpQLSffSYNzAGIeyNCk8WiJafO0ffFK-V0SD7Mo0oCfGGwpjTw97g/viewform?entry.1213907639=[URL]",giveFeedbackText:"Give feedback",giveFeedbackURL:"https://docs.google.com/forms/d/e/1FAIpQLSeVnAEgrp-S6zu305g002WMmprYM07yT1d6_17NouNWi0phlw/viewform?entry.1998520194=[URL]"},displayOverlayReturnToPlayer:"Show audio player"}},1470:function(e,t,a){"use strict";a.r(t),t.default={initialTitle:"Escuchar este artículo ahora",playingTitle:"Escuchando artículo",sponsoredContentTitle:"El artículo comenzará después de este mensaje",prerollTitle:"El artículo comenzará después del anuncio",midrollTitle:"El artículo se reanudará después del anuncio",postrollTitle:"Reproduciendo anuncio",loading:"Cargando...",playerLoadingTitle:"Cargando el contenido",playerLoadingTitleMobile:"Cargando el contenido",nextArticle:"A continuación:",playingMultipleArticles:"Reproduciendo:",googleTranslateTopDomainMsg:"El texto traducido por Google no es compatible",subscriptionLocked:"Suscríbete para escuchar",displayOverlayReturnToPlayer:"Mostrar reproductor de audio"}},8077:function(e,t,a){"use strict";a.r(t),t.default={initialTitle:"למה לקרוא כשאפשר להאזין? לחצו כאן לשמוע",playingTitle:"התוכן מושמע עכשיו",sponsoredContentTitle:"התוכן יתחיל לאחר מודעה קצרה",prerollTitle:"התוכן יתחיל לאחר מודעה קצרה",iprerollTitle:"מודעה קצרה וכבר חוזרים",icustom_positionTitle:"מודעה קצרה וכבר חוזרים",midrollTitle:"מודעה קצרה וכבר חוזרים",timebasedTitle:"מודעה קצרה וכבר חוזרים",postrollTitle:"מודעה קצרה וכבר חוזרים",loading:"רק עוד רגע, התוכן נטען",playerLoadingTitle:"רק עוד רגע, התוכן נטען",playerLoadingTitleMobile:"רק עוד רגע, התוכן נטען",nextArticle:"התוכן הבא שלך",playingMultipleArticles:"כותרת התוכן:",googleTranslateTopDomainMsg:"Google translated text is not supported"}},8924:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});var r=a(7833),i=a.n(r),n=a(5699);class s{constructor({doc:e,jsonld:t,type:a,selector:r,log:i}={}){this.doc=e,this.jsonld=t,this.type=a,this.selector=r,this.log=i}getMeta(){console.info("Please implement this method")}_getOverride(e,t){if(e&&t){if(n.A[e])return e===s.TYPE.CSS?n.A.css(this.doc,t):e===s.TYPE.JSON_LD?n.A.json_ld({jsonld:this.jsonld,selector:t}):void 0;this.log(`Can't find ${e} parser type`)}}_getFirstNotEmpty(e){const t=[this._getOverride(this.type,this.selector),...e];for(const e of t)if(e)return Array.isArray(e)?e.join(", ").trim():e.trim()}_getValidDate(e){try{return new Date(e),e}catch(e){}}}s.TYPE={CSS:"css",JSON_LD:"json_ld"};var o=s;var l=a(726);var d={articleSection:class extends o{getMeta(){return this._getFirstNotEmpty([n.A.json_ld({jsonld:this.jsonld,selector:"articleSection"}),n.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","NewsArticle","Article"]},selector:"articleSection"})])}},author:class extends o{getMeta(){return this._getFirstNotEmpty([n.A.json_ld({jsonld:this.jsonld,selector:"author[0].name"}),n.A.json_ld({jsonld:this.jsonld,selector:"author.name"}),n.A.json_ld({jsonld:this.jsonld,selector:"author.name"}),n.A.json_ld({jsonld:this.jsonld,filter:{"@type":"Person"},selector:"name"}),n.A.css(this.doc,'meta[name="author"]'),n.A.css(this.doc,'meta[property="author"]'),n.A.css(this.doc,'meta[property="article:author"]'),n.A.css(this.doc,'[itemprop="author"]')])}},dateModified:class extends o{getMeta(){const e=this._getFirstNotEmpty([n.A.json_ld({jsonld:this.jsonld,selector:"dateModified"}),n.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","WebPage","NewsArticle"]},selector:"dateModified"})]);return this._getValidDate(e)}},datePublished:class extends o{getMeta(){const e=this._getFirstNotEmpty([n.A.json_ld({jsonld:this.jsonld,selector:"datePublished"}),n.A.json_ld({jsonld:this.jsonld,selector:"dateCreated"}),n.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","WebPage","NewsArticle"]},selector:"datePublished"})]);return this._getValidDate(e)}},description:class extends o{getMeta(){return this._getFirstNotEmpty([n.A.css(this.doc,'meta[name="description"]'),n.A.json_ld({jsonld:this.jsonld,selector:"description"}),n.A.css(this.doc,'meta[property="og:description"]'),n.A.css(this.doc,'meta[name="twitter:description"]'),n.A.css(this.doc,'[itemprop="description"]'),n.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","NewsArticle","Article"]},selector:"description"})])}},faviconURL:class extends o{getMeta(){const e=this._getFirstNotEmpty([n.A.css(this.doc,'link[rel~=icon][sizes="196x196"]'),n.A.css(this.doc,'link[rel~=icon][sizes="192x192"]'),n.A.css(this.doc,'link[rel~=icon][sizes="128x128"]'),n.A.css(this.doc,'link[rel~=icon][sizes="96x96"]'),n.A.css(this.doc,'link[rel~=icon][sizes="64x64"]'),n.A.css(this.doc,'link[rel~=icon][sizes="32x32"]'),n.A.css(this.doc,'link[rel~=icon][sizes="16x16"]'),n.A.css(this.doc,"link[rel~=icon]"),n.A.css(this.doc,'link[rel*="apple-touch-icon"]'),n.A.css(this.doc,'meta[name*="msapplication-tileimage" i]')]);return l.A.getFullURL(e)}},imageURL:class extends o{getMeta(){const e=this._getFirstNotEmpty([n.A.json_ld({jsonld:this.jsonld,selector:"image[0].url"}),n.A.json_ld({jsonld:this.jsonld,selector:"image.url"}),n.A.json_ld({jsonld:this.jsonld,selector:"image[0]"}),n.A.json_ld({jsonld:this.jsonld,selector:"image"}),n.A.css(this.doc,'meta[property="og:image"]'),n.A.css(this.doc,'meta[itemprop="image"]'),n.A.css(this.doc,'meta[name="twitter:image"]'),n.A.css(this.doc,'meta[property="og:image:secure_url"]'),n.A.css(this.doc,'meta[property="og:image:url"]'),n.A.css(this.doc,'meta[name="twitter:image:src"]'),n.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","NewsArticle","Article"]},selector:"image.url"}),n.A.css(this.doc,"img:not(#wpadminbar img, .wp-block-comments img)")]);return l.A.getFullURL(e)}},language:class extends o{getMeta(){return this._getFirstNotEmpty([n.A.cssAttribute(this.doc,"","lang"),n.A.css(this.doc,'meta[itemprop="og:locale"]'),n.A.css(this.doc,'meta[property="og:locale"]'),n.A.json_ld({jsonld:this.jsonld,selector:"inLanguage"}),n.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","NewsArticle","Article"]},selector:"inLanguage"})])}},publisher:class extends o{getMeta(){return this._getFirstNotEmpty([n.A.json_ld({jsonld:this.jsonld,selector:"publisher.name"}),n.A.css(this.doc,'meta[property="og:site_name"]')])}},title:class extends o{getMeta(){return this._getFirstNotEmpty([n.A.css(this.doc,"head title"),n.A.css(this.doc,'meta[property="og:title"]')])}},canonicalURL:class extends o{getMeta(){return this._getFirstNotEmpty([n.A.css(this.doc,"link[rel=canonical]")])}},section:class extends o{getMeta(){return this._getFirstNotEmpty([n.A.css(this.doc,'meta[property="article:section"]'),n.A.css(this.doc,'meta[name="section"]'),n.A.css(this.doc,'meta[property="article:tag"]'),n.A.json_ld({jsonld:this.jsonld,selector:"articleSection"}),n.A.json_ld({jsonld:this.jsonld,filter:{"@type":["BlogPosting","NewsArticle","Article"]},selector:"articleSection"}),n.A.json_ld({jsonld:this.jsonld,selector:"keywords"}),n.A.css(this.doc,'meta[name="keywords"]')])}}};class c{constructor({doc:e=document.documentElement,overrides:t={},logPrefix:a="TRINITY"}){this.doc=e,this.jsonld=e.querySelectorAll('script[type="application/ld+json"]'),this.overrides=t,this.log=i()(`${a}:MetadataScraper`)}find(){const e={};return Object.keys(d).forEach((t=>{const a=new(0,d[t])({doc:this.doc,jsonld:this.jsonld,type:this.overrides[t]?.type,selector:this.overrides[t]?.selector,log:this.log});e[t]=a.getMeta()})),e}}},5699:function(__unused_webpack_module,__webpack_exports__){"use strict";__webpack_exports__.A={css(e,t,a=(()=>{})){let r;this.doc=e;try{r=this.doc.querySelectorAll(t)}catch(r){console.error(r,e,t),a(r)}if(!r?.length)return;return Array.from(r).map((e=>e.src||e.content||e.textContent||e.href)).filter((e=>"string"==typeof e))[0]},cssAttribute(e,t,a){if(this.doc=e,!t)return this.doc.getAttribute(a);const r=this.doc.querySelector(t);return r?r.getAttribute(a):void 0},json_ld({jsonld:jsonld,selector:selector,filter:filter,onError:onError=(()=>{})}){if(this.jsonld=jsonld,this.jsonld?.length)try{for(let i=0;i<this.jsonld.length;++i){if(!this.jsonld[i]?.textContent)return;try{let jsonldObject=JSON.parse(this.jsonld[i].textContent);if(filter){let found;if(jsonldObject["@graph"]?.length&&(found=jsonldObject["@graph"].filter((element=>{for(const filterKey in filter){let filterValue=filter[filterKey];if(Array.isArray(filterValue)||(filterValue=[filterValue]),filterValue.includes(element[filterKey])&&eval(`element.${selector}`))return!0}}))),!found?.length)continue;jsonldObject=found[0]}const result=eval(`jsonldObject.${selector}`);if(!result)continue;if(Array.isArray(result)&&result.length)return result;if(!Array.isArray(result)&&result.length>1)return result}catch(e){}}}catch(e){console.error(e),onError(e)}}}},1672:function(e,t,a){"use strict";a.d(t,{A:function(){return o}});var r=a(7023),i=a(9835);const n="TRINITY_TTS",s="__TRINITY_TTS__";class o{constructor({playerId:e}){this.playerId=e}sendToParent({action:e,message:t,isPublic:a}){const r=a?n:s;window.parent.postMessage({type:r,value:{action:e,message:t,playerId:this.playerId}},"*")}sendToPlayer({action:e,message:t,isPublic:a}){const r=a?n:s,i=`.trinity-player-iframe-wrapper[data-player-id="${this.playerId}"] .trinity-player, .trinity-pulse-iframe-wrapper[data-player-id="${this.playerId}"] .trinity-player`,o=document.querySelector(i);o?.contentWindow?o.contentWindow.postMessage({type:r,value:{action:e,message:t,playerId:this.playerId}},"*"):console.error(`Can't find iframe.contentWindow for selector: ${i}`)}}o.PUBLIC_MESSAGE_TYPE=n,o.PRIVATE_MESSAGE_TYPE=s,o.privateMessages=r.A,o.publicMessages=i.A},7023:function(e,t){"use strict";t.A={ready:"ready",generateAudio:"generateAudio",pausedAll:"pausedAll",playerPlay:"playerPlay",playerPause:"playerPause",playerStop:"playerStop",playClicked:"playClicked",resumed:"resumed",getDuration:"getDuration",getVolume:"getVolume",setVolume:"setVolume",setMuted:"setMuted",setCurrentTime:"setCurrentTime",getCurrentTime:"getCurrentTime",getTimeUpdateData:"getTimeUpdateData",FABShow:"FAB-show",FABHide:"FAB-hide",FABResponse:"FAB-response",enteredView:"enteredView",exitedView:"exitedView",subscribeToScrollData:"subscribeToScrollData",unsubscribeToScrollData:"unsubscribeToScrollData",changeAudioType:"changeAudioType",resize:"resize",resizeWindow:"resizeWindow",setArticleMetadata:"setArticleMetadata",updateUserData:"updateUserData",notifyAboutFirstClick:"notifyAboutFirstClick",setPlayerMode:"setPlayerMode",displayToggleView:"displayToggleView",displayRefresh:"displayRefresh",displayInit:"displayInit",updateState:"updateState",setAudioData:"setAudioData",poweredByPosition:"poweredByPosition",isModalOpen:"isModalOpen",isTranslationSelected:"isTranslationSelected",iconPlayerButton:"iconPlayerButton",playerData:"playerData",contentData:"contentData",maArticle:"maArticle",hidePlayer:"hide",removePlayer:"trinity-remove-player",poweredByClicked:"poweredByClicked",subscriptionLockedClicked:"subscriptionLockedClicked",brpLogoClicked:"brpLogoClicked",brpSloganClicked:"brpSloganClicked",badgeClicked:"badgeClicked",reportIssueClicked:"reportIssueClicked",giveFeedbackClicked:"giveFeedbackClicked",shareOpen:"shareOpen"}},9835:function(e,t,a){"use strict";var r=a(2018);t.A={injectorImp:r.A.injectorImp,playerReady:r.A.playerReady,contentReady:r.A.contentReady,playClicked:r.A.playClicked,pauseClicked:r.A.pauseClicked,resumed:r.A.resumed,contentStarted:r.A.contentStarted,onFirstQuartile:r.A.onFirstQuartile,onMidPoint:r.A.onMidPoint,onThirdQuartile:r.A.onThirdQuartile,onComplete:r.A.onComplete,adOpp:r.A.adOpp,onAdStarted:r.A.onAdStarted,onAdComplete:r.A.onAdComplete,enteredView:r.A.enteredView,exitedView:r.A.exitedView,FABShow:"FAB-show",FABHide:"FAB-hide",touchStart:"touchStart",touchEnd:"touchEnd",scrubbing:r.A.scrubbing,translateTo:"translateTo"}},7797:function(e,t,a){"use strict";a.d(t,{A:function(){return d}});var r=a(7833),i=a.n(r),n=a(5699);class s{constructor({onError:e=(()=>{}),logPrefix:t="TRINITY"}={}){this.onError=e,this.log=i()(`${t}:TargetSections`)}match({type:e,url:t,doc:a=document,matches:r}){if(r?.length)return e===s.types.URL?this._matchURL({url:t,matches:r}):e===s.types.METADATA?this._matchMetadata({doc:a,matches:r}):void this.log(`Can't find type: ${e}`);this.log("matches is empty. Please add at least one match object")}_matchURL({url:e,matches:t}){return t.map((t=>{let a;try{a=e.match(new RegExp(t.regexpString))}catch(a){this.onError(`Wrong regexp: ${t.regexpString}. URL: ${e}. Error: ${a}`)}if(a)return{matched:a.slice(1),description:t.description}})).filter((e=>e))}_matchMetadata({doc:e,matches:t}){return t.map((t=>{let a;let r;if(t.selector.startsWith(s.JSONLDPrefix)){const a=this._getJSONLDElementsFromDocument(e),i=t.selector.replace(s.JSONLDPrefix,"");r=n.A.json_ld({jsonld:a,selector:i,onError:this.onError})?.toString()}else r=n.A.css(e,t.selector,this.onError);if(r){try{a=r.match(new RegExp(t.regexpString))}catch(e){this.onError(`Wrong regexp: ${t.regexpString}. String: ${r}. Error: ${e}`)}if(a)return{matched:a.slice(1),description:t.description}}})).filter((e=>e))}_getJSONLDElementsFromDocument(e){return e.querySelectorAll('script[type="application/ld+json"]')}}s.types={URL:"url",METADATA:"metadata"},s.JSONLDPrefix="jsonld.";var o=s,l=a(8924);class d{constructor({pageURL:e,doc:t=document.documentElement,tagScriptQueryParams:a=new URLSearchParams,publisherSections:r,publisherSectionsAutoEnabled:n,depart:s}){if(this.pageURL=e,this.doc=t,this.tagScriptQueryParams=a,this.publisherSections=r,this.publisherSectionsAutoEnabled=n,this.depart=s,this.doc.constructor===String){const e=new DOMParser;this.doc=e.parseFromString(this.doc,"text/html").documentElement}this.targetSections=new o({onError(e){this.depart.trackError(this.depart.EVENTS.error,e)}}),this.log=i()("TRINITY:Publisher")}getPublisherSectionData(){const e=this.publisherSections.map((e=>{const t=this._getPublisherSectionValue(e);if(t)return{value:t}})),t=this._getAdditionalValues();if(t&&t.forEach((t=>{e.push({value:t})})),!e?.length){const e=this._getAutoSections();if(e)return e}return e}_getMetadata(){return new l.A({doc:this.doc,logPrefix:"TRINITY"}).find()}_getAdditionalValues(){try{const e=this.tagScriptQueryParams.get("sections");if(e){return decodeURIComponent(e).split(",")}}catch(e){this.depart.trackError(this.depart.EVENTS.error,`Can't parse sections. ${e}`)}}_getAutoSections(){if(!this.publisherSectionsAutoEnabled)return;const e=this._getMetadata();if(!e.section)return;const t=e.section.split(",").map((e=>({value:e?.trim()})));return this.log(`Sections auto: ${JSON.stringify(t)}`),t}_getPublisherSectionValue(e){const t=this.targetSections.match({url:this.pageURL,doc:this.doc,type:e.type,matches:[{regexpString:e.regexp,selector:e.selector}]});return t?.[0]?.matched?.[0]}}},3086:function(e,t,a){"use strict";t.A=async e=>{if(crypto.subtle){const t=(new TextEncoder).encode(e),a=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map((e=>e.toString(16).padStart(2,"0"))).join("")}return(0,(await a.e(6475,"high").then(a.t.bind(a,6475,23))).default)().update(e).digest("hex")}},4205:function(e,t){"use strict";const a="trinitymedia.ai",r="dev-sas.site",i="vd.trinitymedia.ai",n=[a,r];t.A={PLAYERS:{SPONSORED_CONTENT:"sponsoredContent",AUDIO_CLOSER:"audioCloser",BEFORE_AD_ROLL:"beforeAdRoll",AD:"ad",BEFORE_MA_ROLL:"beforeMARoll",CONTENT:"content"},CONTENT_TYPES:{VOA:"voiceOverArticle",CF:"customFile"},HOSTNAME:a,HOSTNAME_DEV:r,CDN_HOSTNAME:i,SERVED_HOSTNAMES:n,GOOGLE_IMA_DEMAND_TYPE:"google_audio_ima",AD_TYPES:{AUDIO:"audio",DISPLAY:"display",VIDEO:"video",SPONSORED_CONTENT:"sponsored_content",AUDIO_CLOSER:"audio_closer",BRANDED_PLAYER:"branded_player"},AD_PLACEMENT:{PREROLL:"preroll",IPREROLL:"ipreroll",TIMEBASED:"timebased",POSTROLL:"postroll",SPONSORED_CONTENT:"sponsored_content",AUDIO_CLOSER:"audio_closer",ICUSTOM_POSITION:"icustom_position"},USER_DATA:{USER_ID_TS:"userIdTS",FIRST_CLICK_TS:"firstClickTS"},COOKIE:{trinityUserIdCookieKey:"TRINITY_USER_ID",trinityUserIdCookieTTLDays:365},UNIT_TYPES:{TTS:"tts-player",PULSE:"pulse",CAST:"cast",SHARE:"player-share"},UNIT_ENVIRONMENT:{WP:"wordpress"},contentTimeout:6e4,supportedContentTimeout:2e3,audioCloserTimeout:4e3,sponsoredContentPathPrefix:`https://${i}/audio/sponsored-content`,audioCloserPathPrefix:`https://${i}/audio/audio-closer`,beforeRollPath:`https://${i}/audio/playerAudioFiles`,beforeAdRollFileName:"before-roll.mp3",beforeMARollFileName:"next-article.mp3",activatedFileName:"activated.mp3",beforeMaRollPauseBefore:1,beforeMaRollPauseAfter:1,beforeAudioCloserPause:1.5,getUnitData:e=>e?JSON.parse(atob(e.split("").reverse().join(""))):{}}},726:function(e,t,a){"use strict";var r=a(3086),i=a(523),n=a.n(i),s=a(9614);const o=["www","amp"];t.A={getFullURL(e){if(e)return e.startsWith("://")&&(e=e.replace("://","//")),new URL(e,window?.location?.href).href},removeSubDomainsFromHost(e,t){return t?.length?t.reduce(((e,t)=>function(e,t){t+=".",e.startsWith(t)&&(e=e.slice(t.length));return e}(e,t)),e):e},getCleanURL(e){const t=this.getFullURL(e);if(!t)return;const a=new URL(this.getFullURL(t));return`${this.removeSubDomainsFromHost(a.host,o)}${a.pathname}`},async getContentHash(e){if(e)return(0,r.A)(this.getCleanURL(e))},getCanonicalHash({canonicalURL:e,language:t}={}){if(e&&t)return n()(`${e}_${t}`)},getCanonicalHashWrapped(e){if(!e)return;return`${(0,s.crc16)(e).toString(16).padStart(4,"0")}${e}`},searchParamsToObject(e){const t={};if(!e)return;return new URLSearchParams(decodeURIComponent(e)).forEach(((e,a)=>{t[a]=e})),t},removeEmptyValues(e){Array.from(e.keys()).forEach((t=>{["null","undefined",""].includes(e.get(t))&&e.delete(t)}))}}},2421:function(e,t,a){"use strict";var r=a(8179);window.TRINITY_PLAYER=window.TRINITY_PLAYER||{options:{}},window.TRINITY_PLAYER.players=window.TRINITY_PLAYER.players||{};const i=window.TRINITY_PLAYER.players[Object.keys(window.TRINITY_PLAYER.players)[0]]||{};t.A=new r.A({commonData:{ts:window.TRINITY_PLAYER.ts,tsServer:window.TRINITY_PLAYER.tsServer,version:i.version,uuid:window.TRINITY_PLAYER.userId,topDomain:window.location.host,unitId:i.unitId,pageURL:window.location.href,userAgentData:window.TRINITY_PLAYER.userAgentData,server:window.TRINITY_PLAYER.server,server_region:window.TRINITY_PLAYER.server_region,server_env:window.TRINITY_PLAYER.server_env,publisherId:window.TRINITY_PLAYER.publisherId,unitType:i.unitType,paramsObject:i.paramsObject,language:i.language,themeId:i.themeId},enableTestMode:"1"===new URLSearchParams(window.location.search).get("TRINITY_TEST_QP"),disabledDepartEvents:window.TRINITY_PLAYER.options.disabledDepartEvents})},8014:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return Publisher}});var debug__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7833),debug__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(debug__WEBPACK_IMPORTED_MODULE_0__),_trinity_publisher_sections_lib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7797),_DepartSingleton_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2421);class Publisher{constructor({pageURL:e,doc:t,tagScriptQueryParams:a,playerData:r}){this.playerData=r,this.depart=_DepartSingleton_js__WEBPACK_IMPORTED_MODULE_2__.A,this.log=debug__WEBPACK_IMPORTED_MODULE_0___default()("TRINITY:Publisher"),this.publisherSections=new _trinity_publisher_sections_lib__WEBPACK_IMPORTED_MODULE_1__.A({pageURL:e,doc:t,tagScriptQueryParams:a,publisherSections:r?.publisherSections,publisherSectionsAutoEnabled:r?.publisherSectionsAutoEnabled,depart:_DepartSingleton_js__WEBPACK_IMPORTED_MODULE_2__.A})}getPublisherUserId(){const{publisherUserId:publisherUserId,publisherUserIdOptions:publisherUserIdOptions}=this.playerData;if(publisherUserId)return publisherUserId;let userIdFromPath=null;try{const{path:path}=JSON.parse(publisherUserIdOptions);path&&(userIdFromPath=eval(path))}catch(e){this.depart.trackError(_DepartSingleton_js__WEBPACK_IMPORTED_MODULE_2__.A.EVENTS.error,`Can't parse publisherUserIdOptions. ${e}`)}return userIdFromPath}getPublisherSectionData(){return this.publisherSections.getPublisherSectionData()}}},6585:function(e){var t=1e3,a=60*t,r=60*a,i=24*r,n=7*i,s=365.25*i;function o(e,t,a,r){var i=t>=1.5*a;return Math.round(e/a)+" "+r+(i?"s":"")}e.exports=function(e,l){l=l||{};var d=typeof e;if("string"===d&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!o)return;var l=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*n;case"days":case"day":case"d":return l*i;case"hours":case"hour":case"hrs":case"hr":case"h":return l*r;case"minutes":case"minute":case"mins":case"min":case"m":return l*a;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===d&&isFinite(e))return l.long?function(e){var n=Math.abs(e);if(n>=i)return o(e,n,i,"day");if(n>=r)return o(e,n,r,"hour");if(n>=a)return o(e,n,a,"minute");if(n>=t)return o(e,n,t,"second");return e+" ms"}(e):function(e){var n=Math.abs(e);if(n>=i)return Math.round(e/i)+"d";if(n>=r)return Math.round(e/r)+"h";if(n>=a)return Math.round(e/a)+"m";if(n>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},5072:function(e){"use strict";var t=[];function a(e){for(var a=-1,r=0;r<t.length;r++)if(t[r].identifier===e){a=r;break}return a}function r(e,r){for(var n={},s=[],o=0;o<e.length;o++){var l=e[o],d=r.base?l[0]+r.base:l[0],c=n[d]||0,p="".concat(d," ").concat(c);n[d]=c+1;var u=a(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var m=i(h,r);r.byIndex=o,t.splice(o,0,{identifier:p,updater:m,references:1})}s.push(p)}return s}function i(e,t){var a=t.domAPI(t);a.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,i){var n=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<n.length;s++){var o=a(n[s]);t[o].references--}for(var l=r(e,i),d=0;d<n.length;d++){var c=a(n[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}n=l}}},7659:function(e){"use strict";var t={};e.exports=function(e,a){var r=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(a)}},540:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:function(e,t,a){"use strict";e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},7825:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var r="";a.supports&&(r+="@supports (".concat(a.supports,") {")),a.media&&(r+="@media ".concat(a.media," {"));var i=void 0!==a.layer;i&&(r+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),r+=a.css,i&&(r+="}"),a.media&&(r+="}"),a.supports&&(r+="}");var n=a.sourceMap;n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var a=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](a,a.exports,__webpack_require__),a.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var a=Object.create(null);__webpack_require__.r(a);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&t&&e;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((function(t){r[t]=function(){return e[t]}}));return r.default=function(){return e},__webpack_require__.d(a,r),a},__webpack_require__.d=function(e,t){for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},__webpack_require__.f={},__webpack_require__.e=function(e,t){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(a,r){return __webpack_require__.f[r](e,a,t),a}),[]))},__webpack_require__.u=function(e){return 287===e?"287.bundle.js":6475===e?"6475.bundle.js":9889===e?"9889.bundle.js":7828===e?"7828.bundle.js":2741===e?"2741.bundle.js":6381===e?"6381.bundle.js":8642===e?"8642.bundle.js":4054===e?"4054.bundle.js":4628===e?"4628.bundle.js":8110===e?"8110.bundle.js":1453===e?"1453.bundle.js":1369===e?"1369.bundle.js":3123===e?"3123.bundle.js":1355===e?"1355.bundle.js":9371===e?"9371.bundle.js":6435===e?"6435.bundle.js":9138===e?"9138.bundle.js":8914===e?"8914.bundle.js":1353===e?"1353.bundle.js":1870===e?"1870.bundle.js":913===e?"913.bundle.js":317===e?"317.bundle.js":6815===e?"6815.bundle.js":8138===e?"8138.bundle.js":8111===e?"8111.bundle.js":663===e?"663.bundle.js":3282===e?"3282.bundle.js":5754===e?"5754.bundle.js":35===e?"35.bundle.js":2232===e?"2232.bundle.js":4430===e?"4430.bundle.js":7772===e?"7772.bundle.js":6011===e?"6011.bundle.js":3001===e?"3001.bundle.js":2070===e?"2070.bundle.js":2275===e?"2275.bundle.js":9788===e?"9788.bundle.js":7466===e?"7466.bundle.js":5132===e?"5132.bundle.js":2785===e?"2785.bundle.js":3713===e?"3713.bundle.js":6602===e?"6602.bundle.js":3490===e?"3490.bundle.js":1765===e?"1765.bundle.js":403===e?"403.bundle.js":1164===e?"1164.bundle.js":3733===e?"3733.bundle.js":6672===e?"6672.bundle.js":8911===e?"8911.bundle.js":4762===e?"4762.bundle.js":6771===e?"6771.bundle.js":680===e?"680.bundle.js":8365===e?"8365.bundle.js":6985===e?"6985.bundle.js":898===e?"898.bundle.js":9336===e?"9336.bundle.js":4806===e?"4806.bundle.js":1393===e?"1393.bundle.js":8649===e?"8649.bundle.js":9315===e?"9315.bundle.js":4676===e?"4676.bundle.js":1643===e?"1643.bundle.js":167===e?"167.bundle.js":void 0},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},inProgress={},dataWebpackPrefix="trinity-audio-player:",__webpack_require__.l=function(e,t,a,r,i){if(inProgress[e])inProgress[e].push(t);else{var n,s;if(void 0!==a)for(var o=document.getElementsByTagName("script"),l=0;l<o.length;l++){var d=o[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==dataWebpackPrefix+a){n=d;break}}n||(s=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,__webpack_require__.nc&&n.setAttribute("nonce",__webpack_require__.nc),n.setAttribute("data-webpack",dataWebpackPrefix+a),i&&n.setAttribute("fetchpriority",i),n.src=e),inProgress[e]=[t];var c=function(t,a){n.onerror=n.onload=null,clearTimeout(p);var r=inProgress[e];if(delete inProgress[e],n.parentNode&&n.parentNode.removeChild(n),r&&r.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=c.bind(null,n.onerror),n.onload=c.bind(null,n.onload),s&&document.head.appendChild(n)}},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e}(),function(){var e={6171:0};__webpack_require__.f.j=function(t,a,r){var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)a.push(i[2]);else{var n=new Promise((function(a,r){i=e[t]=[a,r]}));a.push(i[2]=n);var s=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(s,(function(a){if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",o.name="ChunkLoadError",o.type=r,o.request=n,i[1](o)}}),"chunk-"+t,t,r)}};var t=function(t,a){var r,i,n=a[0],s=a[1],o=a[2],l=0;if(n.some((function(t){return 0!==e[t]}))){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);if(o)o(__webpack_require__)}for(t&&t(a);l<n.length;l++)i=n[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},a=self.webpackChunktrinity_audio_player=self.webpackChunktrinity_audio_player||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}(),__webpack_require__.nc=void 0;var __webpack_exports__={};!function(){"use strict";var e=__webpack_require__(4205),t=a;function a(e,t){var r=i();return a=function(t,i){var n=r[t-=495];if(void 0===a.eJKnnm){a.cDAYPQ=function(e,t){var a,r,i=[],n=0,s="";for(e=function(e){for(var t,a,r="",i="",n=0,s=0;a=e.charAt(s++);~a&&(t=n%4?64*t+a:a,n++%4)?r+=String.fromCharCode(255&t>>(-2*n&6)):0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var o=0,l=r.length;o<l;o++)i+="%"+("00"+r.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(i)}(e),r=0;r<256;r++)i[r]=r;for(r=0;r<256;r++)n=(n+i[r]+t.charCodeAt(r%t.length))%256,a=i[r],i[r]=i[n],i[n]=a;r=0,n=0;for(var o=0;o<e.length;o++)n=(n+i[r=(r+1)%256])%256,a=i[r],i[r]=i[n],i[n]=a,s+=String.fromCharCode(e.charCodeAt(o)^i[(i[r]+i[n])%256]);return s},e=arguments,a.eJKnnm=!0}var s=t+r[0],o=e[s];return o?n=o:(void 0===a.oYCEFi&&(a.oYCEFi=!0),n=a.cDAYPQ(n,i),e[s]=n),n},a(e,t)}!function(e,t){for(var r=a,i=e();;)try{if(402011===parseInt(r(508,"OLcq"))/1*(parseInt(r(507,"sJ*6"))/2)+parseInt(r(522,"#0K("))/3*(parseInt(r(514,"1EcI"))/4)+-parseInt(r(509,"!H#q"))/5+parseInt(r(526,"&)Dz"))/6+parseInt(r(506,"%$ql"))/7*(parseInt(r(530,"qpJU"))/8)+parseInt(r(502,")cor"))/9+parseInt(r(517,"9vo^"))/10*(-parseInt(r(503,"dPaP"))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}(i);var r={};function i(){var e=["n3ldUmo8W7ypw0O4pmk1WRxdMG","ow/dJmkGAwft","CmoaW77cHKLla1hdMvaIWOVdMf/cRW","nhhdTSo8W7ulb3yximksWRq","kI/dHKn9w8oUWPOpWP/cICovgG","WOHrhaFcQYRdGa5DW78gWRJcPa","rSkhix3cQSoqW55CWOhdLq","W6NcHmo0aCkkWQvrW4j8W6pcL8op","bSooz8oFW5RcLSokpq","WQD1mSkzENxcRKZcQehdP8o8","kCoJWQNcT8ksW6joW6CYWO40WRff","W6dcIvzMW4u1xmo7","WR3dMmkQwmoeW7z9W71IW73cJ8o+gduxr8kkdmo2aSoEWRa","W4i5wXBdQb8mbCoVnCogrCkoxSkLj8oizSkMCmklWPegW7H+obGLWOFcGmo6mSo0WQRdHCoa","bmoNttzJW7RdG8kWA1ldPG","W79qW53dOmkjtsm+WQTHBJ4K","lN4AW4dcTfNdVJnndmkkWOP4W5D6qrKaW44","WOT8W4yQWPrCb8kasSknWQOxFCk5psq","WPBdM2axWPBcKZvqsmk0WRycbSo0xhflmK1ZC0qAW4ldNrToacf5WRlcS8k1uKK9","WOhdV28apu7cKCoWW5jEr8oa","WQD8n8kyoI/cLwBcVxi","W6xcOSk2DmowW4xdKZBcMSkej8ov","pM8FWR3cQ1NdThTii8k7W6bUW5X7qW","W67dGSokWQuEt8oecIfscmkIqHJcNgKxfCkc","WOzWruCOa2q/zd0/j8oCWPaIbSkgeG","W4VcJ8oUWQiPeSoMfa","Dmk1W7/dPCojW7yaW4XqWQS5WPeVyeiwW6JcSh7dSsS","FhtdSSk0twfDWO1UWP8XrSo+WOJdNmkdW4VdICk0t28","WRDjWReiwxpcIvbkWPaa","W7emW7T6csxdHwzwWPKlW51Q","eLddTCkUgWDMv8k8W55C","W4nvd8oqzCoDWQ1YW7jWESk5da","WQzfmmk+oK0VsWGWtXNdM8oMqeNcOCkW","DN7dQ8oweXLaW4i","pSo8zSkEW71unaBdOConW6zMWP0","W4f7jNCsc30","WQnbd3dcMxRcQsy5tt3cVa","WOxdVwOamKJcVmoUW5TxECoB"];return(i=function(){return e})()}r[t(523,"56Dx")]=[t(497,"OLcq"),t(513,"mrN("),t(532,"vF1g"),t(495,"5*x4"),t(499,"Mlq]")],r[t(501,")cor")]=t(528,"z*uG"),r[t(516,"vDa[")]=t(524,"[%3N"),r[t(527,"5*x4")]=t(496,"d*dD"),r[t(500,"5@&5")]=t(529,"b#k&"),r[t(515,"mH4J")]=[97,71,70,122,90,71,89,104,81,67,78,104],r[t(505,"nSCa")]=[90,110,82,53,99,71,49,119,78,68,74,112,99,50,57,116,98,88,65,48,77,108,115,47,98,87,57,118,100,109,120,116,100,109,104,107,80,51,108,65,100,72,74,104,97,50,116,111,90,68,78,65,80,122,56,107,90,87,82,48,99,50,86,115,99,51,81,122,80,122,56,51,98,87,82,112,89,83,66,116,90,71,104,107,100,84,65];var n={logPrefix:"TRINITY_TTS",...r,averageAudioTimePerChar:{en:.0615,de:.053,he:.085,es:.05,zh:.175,ja:.17},brandedPlayer:"branded_player",sponsoredContent:"sponsored_content",documentLoadTypes:{DOMContentLoaded:"DOMContentLoaded",onload:"onload",onSelectorVisible:"onSelectorVisible",onSelectorExists:"onSelectorExists"},wrapperClass:"trinity-player-iframe-wrapper",iframeClass:"trinity-iframe",placeholderClass:"trinityAudioPlaceholder",hideClass:"trinity-hide",fabViewClass:"fab-view",excludeTags:["trinity-player-iframe-wrapper","script","noscript","style","iframe","svg","trinity-skip-it","twitter-widget","figure"],generateButtonLayout:"generate-button",displayWrapperClass:"display-wrapper",varMultiplePlayers:"__trinityMultiplePlayers__",sergioURL:"/player/api",multipleArticlesURL:"/player/multiple-articles",playerHeight:{int:70,px:"70px"},languageMap:{arb:"ar",cmn:"zh"},timeOutAfterNextTitleAudio:1e3,maxTextLength:2e5,errorCode:{InvalidText:1,TemporaryUnavailable:6},userEventTypes:{scroll:"scroll"},defaultColorMain:"#000033",defaultProgressbarBGColor:"#ebebeb",homePage:"https://trinityaudio.ai",memeVideoAdDomain:"https://vd.ads.memevideoad.com",heartBeatInterval:3e5,googleTranslateTopDomain:"translate.googleusercontent.com",playerMode:{default:"default",fab:"fab",mediaControls:"media_controls",displayOverlay:"display_overlay"},playerType:{iconPlayerExpandable:"icon-expandable"},viewabilityThreshold:90,adTypes:{brandedPlayer:"branded_player",sponsoredContent:"sponsored_content",audio:"audio",display:"display",video:"video"}},s=__webpack_require__(7833),o=__webpack_require__.n(s),l=__webpack_require__(1672);function d(e,t){const a=e.querySelectorAll(t);return a.length?(a.forEach((e=>{if(e?.parentNode?.tagName)return e.parentNode.removeChild(e)})),e):e}d.NAME="excludeSelector";var c=d;function p(e,t){const{selector:a,text:r,isDeleteAfter:i,levelsUp:n}=t,s=function(e,t,a){const r=e.querySelectorAll(t),i=[];return r.forEach((e=>{const t=e.innerText.toLowerCase();t&&t.includes(a.toLowerCase())&&i.push(e)})),i}(e,a,r);return s.forEach((e=>{e&&function(e,t,a){let r=e;for(;t>0;){if(!r.parentNode){r=null;break}r=r.parentNode,t--}r&&(a?function(e){let t=e.nextElementSibling;for(;t;)t.remove(),t=e.nextElementSibling;e.remove()}(r):r.remove())}(e,n,i)})),e}p.NAME="excludeText";var u=p;function h(e,t){const{selector:a,regexp:r,regexpFlags:i}=t,n=new RegExp(r,i),s=function(e,t,a){const r=e.querySelectorAll(t),i=[];return r.forEach((e=>{const t=e.innerText;t&&t.match(a)&&i.push(e)})),i}(e,a,n);return s.forEach((e=>{e&&function(e,t){e.innerHTML=e.innerHTML.replace(t,"")}(e,n)})),e}h.NAME="excludeTextRegexp";var m=h;function _(e,t){return e.querySelectorAll(t).forEach((e=>{const t=document.createElement("span");t.innerText=e.innerText,e.parentNode.replaceChild(t,e)})),e}_.NAME="inline-text";var g=_;function y(e,t,a){const r=function(e,t,a){let r=[];for(const i of t)r=[...r,...e.querySelectorAll(i)],r=[...r,...e.querySelectorAll(`.${i}`)],a&&"style"===i||(r=[...r,...e.querySelectorAll(`#${i}`)]);return r}(e,t,a);return r.length?(r.forEach((e=>{if(e?.parentNode?.tagName)return e.parentNode.removeChild(e)})),e):e}y.NAME="nodefiltered";var f=y;const b="⏸",T=` ${b} `,w=new RegExp(`([\\n|\\s|\\r]*${b}[\\n|\\s|\\r]*)+`,"g"),A=new RegExp(`[\\.]+[\\n|\\s|\\r]*(${b})`,"g"),E=new RegExp(`[\\,]+[\\n|\\s|\\r]*(${b})`,"g"),v=new RegExp(`([\\n|\\s|\\r])*${b}$`,"g");class D{constructor({version:e}={}){this.version=e,this.symbolsToRemove=["▪"],this.symbolsToRemoveDuplicates=["-","—","–","_"]}parse(e){return 2===Number(e.version||this.version)?this._parseV2(e):this._parseV1(e)}_parseV1({node:e,filters:t=[],selector:a}){let r,i="",n=(e||document.documentElement).cloneNode(!0);n=this.applyFilters({node:n,filters:t});try{r=n.querySelectorAll(a)}catch(e){r=[]}for(const e of r)i+=this.parseNode(e,t);return this.getResultText(i)}_parseV2({node:e,filters:t=[],selector:a}){if(!a)return"";e=e??document.documentElement;const r=[];try{const i=e.querySelectorAll(a);if(!i.length)return"";for(const e of i){let a=e.cloneNode(!0);a=this.applyFilters({node:a,filters:t}),r.push(a)}const n=document.createElement("div");for(const e of r)n.appendChild(e);const s=this.parseNode(n,t);return this.getResultText(s)}catch(e){return""}}parseNode(e,t){let a=e;for(const e of t)if(e.name===g.NAME)a=g(a,e.params);const r=this.getTextWithNewLines(a);return this.symbolsCleanup(r)}getTextWithNewLines(e){e.style.position="absolute",e.style.left="-99999px",e.style.zIndex="-99999",e.style.opacity="0",e.style.width="0",document.body.appendChild(e);let t=`${e.innerText}${T}`;return t=t.replace(/\n+/g,T),e.remove(),t}removeSymbols(e){return this.symbolsToRemove.forEach((t=>{const a=new RegExp(`${t}`,"gm");e=e.replace(a,"")})),e}removeSymbolsDuplicates(e){return this.symbolsToRemoveDuplicates.forEach((t=>{const a=new RegExp(`( *${t} *){3,}`,"gm"),r=` ${t} `,i=e.replace(a,r);e=i===r?"":i})),e}symbolsCleanup(e){const t=this.removeSymbols(e);return this.removeSymbolsDuplicates(t)}setSpacedDots(e){return e.replace(/([a-z"”()0-9])(\.)([A-Z"”()])/gm,"$1$2 $3")}replaceNewLine(e){return e.replace(/(([a-zA-Z]\.){2,}) \. \n[^$]/gi,"$1_ABBR_DOTS_ ").replace(/_ABBR_DOTS_/g,T).replace(w,T).replace(E,", ").replace(A,". ").replace(/[\s]+/g," ").trim().replace(v,"")}switchDotCommaForNumbers(e){return e.replace(/([0-9])([.,])([0-9])/gm,((e,t,a,r)=>{let i=a;return"."===a?i=",":","===a&&(i="."),t+i+r}))}applyFilters({node:e,filters:t}){for(const a of t)a.name===f.NAME&&(e=f(e,a.params,a.isDefaultFilters));for(const a of t)a.name===c.NAME&&(e=c(e,a.params));for(const a of t)a.name===u.NAME&&(e=u(e,a.params));for(const a of t)a.name===m.NAME&&(e=m(e,a.params));return e}getResultText(e){return e=this.setSpacedDots(e),this.replaceNewLine(e)}}var I={async load({fn:e,moduleName:t,depart:a,retries:r=5,sleep:i=1e3,retry:n=0}){try{const r=await e();return n&&a.trackError(a.EVENTS.error,`Module load: Was able to load module: ${t}. Network: ${JSON.stringify(a.constDepartData?.connection_details)}. Retries: ${n}`),r}catch(s){if(n>=r)throw a.trackError(a.EVENTS.error,`Module load: Error to load module: ${t}. Network: ${JSON.stringify(a.constDepartData?.connection_details)}. Retries: ${n}. Error: ${s.stack||s}`),Error(s);return++n,a.trackError(a.EVENTS.error,`Module load: Unable to load module: ${t}. Network: ${JSON.stringify(a.constDepartData?.connection_details)}. Retrying (${n}). Sleep for ${i} ms...`),await this._sleep(i),await this.load({fn:e,moduleName:t,depart:a,retries:r,sleep:i,retry:n})}},async _sleep(e){return new Promise((t=>{setTimeout(t,e)}))}},P=__webpack_require__(5720);var S={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let k;const C=new Uint8Array(16);function R(){if(!k&&(k="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!k))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return k(C)}const L=[];for(let e=0;e<256;++e)L.push((e+256).toString(16).slice(1));function N(e,t=0){return(L[e[t+0]]+L[e[t+1]]+L[e[t+2]]+L[e[t+3]]+"-"+L[e[t+4]]+L[e[t+5]]+"-"+L[e[t+6]]+L[e[t+7]]+"-"+L[e[t+8]]+L[e[t+9]]+"-"+L[e[t+10]]+L[e[t+11]]+L[e[t+12]]+L[e[t+13]]+L[e[t+14]]+L[e[t+15]]).toLowerCase()}var M=function(e,t,a){if(S.randomUUID&&!t&&!e)return S.randomUUID();const r=(e=e||{}).random||(e.rng||R)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){a=a||0;for(let e=0;e<16;++e)t[a+e]=r[e];return t}return N(r)};function x(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)e[r]=a[r]}return e}var j=function e(t,a){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=x({},a,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var s in i)i[s]&&(n+="; "+s,!0!==i[s]&&(n+="="+i[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+n}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var a=document.cookie?document.cookie.split("; "):[],r={},i=0;i<a.length;i++){var n=a[i].split("="),s=n.slice(1).join("=");try{var o=decodeURIComponent(n[0]);if(r[o]=t.read(s,o),e===o)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",x({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,x({},this.attributes,t))},withConverter:function(t){return e(x({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),O=j;class F{constructor(e,t=""){this.depart=e,this.departEventPrefix=t}playerReady(){this.depart.track(this._getEvent(this.depart.EVENTS.playerReady))}playClicked(){this.depart.track(this._getEvent(this.depart.EVENTS.playClicked))}pauseClicked(){this.depart.track(this._getEvent(this.depart.EVENTS.pauseClicked))}adPauseClicked({demand:e,adPlacement:t,adType:a}){this._trackAd(this.depart.EVENTS.adPauseClicked,{demand:e,adPlacement:t,adType:a})}beforeAdRollPauseClicked({demand:e,adPlacement:t,adType:a}){this._trackAd(this.depart.EVENTS.beforeAdRollPauseClicked,{demand:e,adPlacement:t,adType:a})}resumed(){this.depart.track(this._getEvent(this.depart.EVENTS.resumed))}adResumed({demand:e,adPlacement:t,adType:a}){this._trackAd(this.depart.EVENTS.adResumed,{demand:e,adPlacement:t,adType:a})}beforeAdRollResumed({demand:e,adPlacement:t,adType:a}){this._trackAd(this.depart.EVENTS.beforeAdRollResumed,{demand:e,adPlacement:t,adType:a})}adLoading({demand:e,adPlacement:t,adType:a}){this._trackAd(this.depart.EVENTS.adLoading,{demand:e,adPlacement:t,adType:a})}beforeAdRollLoading({demand:e,adPlacement:t,adType:a}){this._trackAd(this.depart.EVENTS.beforeAdRollLoading,{demand:e,adPlacement:t,adType:a})}contentStartedLoading(){this.depart.track(this._getEvent(this.depart.EVENTS.contentStartedLoading))}audioLoaded({audioInfo:e}={}){this.depart.track(this._getEvent(this.depart.EVENTS.audioLoaded),{text_value:e})}contentStarted({audioInfo:e}={}){this.depart.track(this._getEvent(this.depart.EVENTS.contentStarted),{text_value:e})}adContentStarted({demand:e,adPlacement:t,adType:a}){this._trackAd(this.depart.EVENTS.adContentStarted,{demand:e,adPlacement:t,adType:a})}cookieSyncCompleted({demandId:e,uid:t}){this.depart.track(this._getEvent(this.depart.EVENTS.cookieSyncCompleted),{demand_id:e,demand_response_data:{listenerId:t}})}adOpp({adPlacement:e,adType:t,auctionNumber:a,currentTime:r,duration:i,rolloutTime:n,adConfig:s}){this.depart.setAdPlacement(e,t),this.depart.trackAd(this._getEvent(this.depart.EVENTS.adOpp),{adPlacement:e,adConfig:s,auctionNumber:a,adType:t,adSlot:{duration:this._toFixedNumber(i),currentTime:this._toFixedNumber(r),rolloutTime:this._toFixedNumber(n),rolloutPercentage:this._toFixedNumber(n/i*100)}})}noAd({demand:e,adPlacement:t,adType:a}){this.depart.setAdPlacement(t,a),this.depart.trackAd(this._getEvent(this.depart.EVENTS.onNoAd),{demand:e,adPlacement:t,adType:a})}req({demandTag:e,demandResponse:t,isWon:a,adType:r,adPlacement:i,auctionNumber:n}){const s=t?.pricing||{},o=this.depart.isSendVAST||Number(e.send_vast_to_depart);this.depart.trackAd(this._getEvent(this.depart.EVENTS.req),{adType:r,adPlacement:i,auctionNumber:n},{demandTag:e},{demand_id:e.tagId,demand_response_data:{demand_url:e.url,demand_id:e.tagId,demand_user_id:t?.uid,demand_response_time:Number(t?.demandResponseTime||0),price:s.price,currency:s.currency,currency_exchange_rate:s.currencyExchangeRate,won:a},text_value:o?t?.vast?.getRawXML?.():void 0})}onFirstQuartile(){this.depart.track(this._getEvent(this.depart.EVENTS.onFirstQuartile))}onMidPoint(){this.depart.track(this._getEvent(this.depart.EVENTS.onMidPoint))}onThirdQuartile(){this.depart.track(this._getEvent(this.depart.EVENTS.onThirdQuartile))}onComplete(){this.depart.track(this._getEvent(this.depart.EVENTS.onComplete))}beforeAdRollLoaded(e){this._trackAd(this.depart.EVENTS.beforeAdRollLoaded,e)}onAdLoaded(e){this._trackAd(this.depart.EVENTS.onAdLoaded,e)}beforeAdRollStarted(e){this._trackAd(this.depart.EVENTS.beforeAdRollStarted,e)}onAdStarted(e){this._trackAd(this.depart.EVENTS.onAdStarted,e)}onAdFirstQuartile(e){this._trackAd(this.depart.EVENTS.onAdFirstQuartile,e)}onAdMidPoint(e){this._trackAd(this.depart.EVENTS.onAdMidPoint,e)}onAdThirdQuartile(e){this._trackAd(this.depart.EVENTS.onAdThirdQuartile,e)}beforeAdRollComplete(e){this._trackAd(this.depart.EVENTS.beforeAdRollComplete,e)}onAdComplete(e){this._trackAd(this.depart.EVENTS.onAdComplete,e)}tr({demand:e,adPlacement:t,adType:a,auctionNumber:r,adNumber:i}){const n=this._getAdData({demand:e,adPlacement:t,adType:a,auctionNumber:r,adNumber:i}),s=Number(this.depart.commonData.revenueConfig?.pubShare)||0,o=Number(e.demandResponse.pricing.price);this.depart.trackAd(this._getEvent(this.depart.EVENTS.tr),n,e.demandTag,{revenue:o,publisher_revenue:Number((e.demandResponse.pricing.price*s).toFixed(4))})}error(e){this.depart.trackError(this.depart.EVENTS.error,e)}errorAd(e){this.depart.trackErrorAd({error:e})}setAdPlacement({adPlacement:e}){this.depart.setAdPlacement(e)}_getEvent(e){return this.departEventPrefix+e}_trackAd(e,t){this.depart.trackAd(this._getEvent(e),this._getAdData(t),t.demand?.demandTag)}_getAdData({demand:e,adPlacement:t,adType:a,auctionNumber:r,adNumber:i}){const n=e?.demandResponse?.vast,s=e?.demandResponse?.media;return n?{mediaTitle:n.getAdTitle(),mediaFile:s?.media?.trim()||n.getMediaFile()?.media,vastMediaDuration:n.getMediaDuration(),adSystem:n.getAdSystem(),advertiser:n.getAdvertiser(),categories:n.getCategories(),adPlacement:t,adType:a,auctionNumber:r,adNumber:i}:{adPlacement:t,adType:a}}_isMobile(){return window.navigator.userAgent.toLowerCase().includes("mobi")}_getDeviceName(){return this._isMobile()?"mobile":"desktop"}_toFixedNumber(e){return e?Number(e.toFixed(2)):0}}let U=null;const Y="__testPartitioning";var V={isPartitioningSupport(){return null!==U||(document.cookie=`${Y}=1; path=/; sameSite=None; secure; partitioned`,U=document.cookie.split(";").map((e=>e.trim())).includes(`${Y}=1`),document.cookie=`${Y}=; path=/; sameSite=None; secure; max-age=-1; partitioned`),U}};class W{constructor({storageKey:e="TRINITY_USER_DATA",cookieTTL:t=365,depart:a}={}){this.storageKey=e,this.cookieTTL=t,this.departHelper=new F(a),this.data={},this.isPartitioningSupport=V.isPartitioningSupport(),this.defaultParams={sameSite:"None",secure:!0,partitioned:this.isPartitioningSupport},this._init()}get(e){return this.data[e]}set(e,t){this.data[e]=t,this._store()}_init(){const e=O.get(this.storageKey);if(e){const t=this._decode(e);t&&(this.data=t)}this._store()}_store(){O.set(this.storageKey,this._encode(),{expires:this.cookieTTL,...this.defaultParams})}_encode(){return btoa(JSON.stringify(this.data))}_decode(e){let t;try{const a=JSON.parse(atob(e));a&&(t=a)}catch(e){this._onError(e)}return t}_onError(e){this.departHelper.error(e)}}class B{constructor({cookieTTL:e=365}={}){this.cookieTTL=e,this.isPartitioningSupport=V.isPartitioningSupport(),this.defaultParams={sameSite:"None",secure:!0,partitioned:this.isPartitioningSupport}}get(e){return O.get(e)}set(e,t){O.set(e,t,{expires:this.cookieTTL,...this.defaultParams})}}class ${constructor({depart:e,providedUserId:t}){this.depart=e,this.providedUserId=t,this.cookieStorageObject=new W({depart:this.depart}),this.cookieStorageValue=new B}init(){this.userId=this.getUserId(),this._getUserIdFromCookie()||this.cookieStorageObject.set(e.A.USER_DATA.USER_ID_TS,Date.now()),this._setUserIdToCookie(this.userId)}getUserId(){return this.userId||this.providedUserId||this._getUserIdFromCookie()||M()}setFirstClickTS(t){this.cookieStorageObject.get(e.A.USER_DATA.FIRST_CLICK_TS)||this.cookieStorageObject.set(e.A.USER_DATA.FIRST_CLICK_TS,t)}_getUserIdFromCookie(){return this.cookieStorageValue.get(e.A.COOKIE.trinityUserIdCookieKey)}_setUserIdToCookie(t){this.cookieStorageValue.set(e.A.COOKIE.trinityUserIdCookieKey,t)}}var H=__webpack_require__(726);class q{constructor({logger:e}){this.logger=e}log({eventName:e,value:t}){this.logger(`${e}: ⏱ ${t}ms`)}}q.events={TRINITY_TTS_TAG_SCRIPT_EXEC_TIME:"TRINITY_TTS_TAG_SCRIPT_EXEC_TIME",TRINITY_TTS_INJECTOR_IFRAME_MADE_REQUEST_SINCE_INIT:"TRINITY_TTS_INJECTOR_IFRAME_MADE_REQUEST_SINCE_INIT",TRINITY_TTS_INJECTOR_IFRAME_LOADED_SINCE_INIT:"TRINITY_TTS_INJECTOR_IFRAME_LOADED_SINCE_INIT",TRINITY_TTS_TRINITY_PLAYER_SCRIPT_RENDER_TIME:"TRINITY_TTS_TRINITY_PLAYER_SCRIPT_RENDER_TIME",TRINITY_TTS_PLAYER_GOT_PLAYER_DATA:"TRINITY_TTS_PLAYER_GOT_PLAYER_DATA",TRINITY_TTS_PLAYER_GOT_CONTENT_DATA:"TRINITY_TTS_PLAYER_GOT_CONTENT_DATA",TRINITY_TTS_PLAYER_INIT:"TRINITY_TTS_PLAYER_INIT",TRINITY_TTS_INJECTOR_CONFIRM_PLAYER_READY:"TRINITY_TTS_INJECTOR_CONFIRM_PLAYER_READY"};var Q={af:"af-ZA",am:"am-ET",ar:"ar-YE",arb:"arb",bg:"bg-BG",bn:"bn-IN",ca:"ca-ES",cmn:"cmn-TW",cs:"cs-CZ",cy:"cy-GB",da:"da-DK",de:"de-DE",el:"el-GR",en:"en-US",es:"es-ES",et:"et-EE",fa:"fa-IR",fi:"fi-FI",fil:"fil-PH",fr:"fr-FR",ga:"ga-IE",gl:"gl-ES",gu:"gu-IN",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",jv:"jv-ID",km:"km-KH",kn:"kn-IN",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ml:"ml-IN",mr:"mr-IN",ms:"ms-MY",mt:"mt-MT",my:"my-MM",nb:"nb-NO",nl:"nl-NL",pa:"pa-IN",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",so:"so-SO",sr:"sr-RS",su:"su-ID",sv:"sv-SE",sw:"sw-TZ",ta:"ta-SG",te:"te-IN",th:"th-TH",tr:"tr-TR",uk:"uk-UA",ur:"ur-PK",uz:"uz-UZ",vi:"vi-VN",yue:"yue-HK",zh:"zh-TW",zu:"zu-ZA"},z={de:{__name__:"German",__nameLocal__:"Deutsch"},en:{__name__:"English",__nameLocal__:"English"},es:{__name__:"Spanish",__nameLocal__:"Español"},fr:{__name__:"French",__nameLocal__:"Français"},hi:{__name__:"Hindi",__nameLocal__:"हिन्दी"},it:{__name__:"Italian",__nameLocal__:"Italiano"},pt:{__name__:"Portuguese",__nameLocal__:"Português"},ru:{__name__:"Russian",__nameLocal__:"Русский"},zh:{__name__:"Chinese",__nameLocal__:"中文"},ar:{__name__:"Arabic",__nameLocal__:"العربية",config:{direction:"rtl"}},cy:{__name__:"Welsh",__nameLocal__:"Cymraeg"},da:{__name__:"Danish",__nameLocal__:"Dansk"},is:{__name__:"Icelandic",__nameLocal__:"Íslenska"},ja:{__name__:"Japanese",__nameLocal__:"日本語"},ko:{__name__:"Korean",__nameLocal__:"한국어"},nl:{__name__:"Dutch",__nameLocal__:"Nederlands"},no:{__name__:"Norwegian",__nameLocal__:"norsk"},pl:{__name__:"Polish",__nameLocal__:"Polski"},ro:{__name__:"Romanian",__nameLocal__:"Română"},tr:{__name__:"Turkish",__nameLocal__:"Türkçe"},he:{__name__:"Hebrew",__nameLocal__:"עברית",config:{direction:"rtl"}},sl:{__name__:"Slovene",__nameLocal__:"Slovenščina"},te:{__name__:"Telugu",__nameLocal__:"తెలుగు"},bn:{__name__:"Bengali",__nameLocal__:"বাংলা"},gu:{__name__:"Gujarati",__nameLocal__:"ગુજરાતી"},sv:{__name__:"Swedish",__nameLocal__:"Svenska"},nb:{__name__:"Norwegian Bokmål",__nameLocal__:"Norsk (Bokmål)"},ta:{__name__:"Tamil",__nameLocal__:"தமிழ்"},af:{__name__:"Afrikaans",__nameLocal__:"Afrikaans"},am:{__name__:"Amharic",__nameLocal__:"አማርኛ"},bg:{__name__:"Bulgarian",__nameLocal__:"Български"},ca:{__name__:"Catalan",__nameLocal__:"Català"},cs:{__name__:"Czech",__nameLocal__:"Čeština"},el:{__name__:"Greek",__nameLocal__:"Ελληνικά"},et:{__name__:"Estonian",__nameLocal__:"Eesti"},fa:{__name__:"Persian",__nameLocal__:"فارسی",config:{direction:"rtl"}},fi:{__name__:"Finnish",__nameLocal__:"Suomi"},ga:{__name__:"Irish",__nameLocal__:"Gaeilge"},gl:{__name__:"Galician",__nameLocal__:"Galego"},hu:{__name__:"Hungarian",__nameLocal__:"Magyar"},id:{__name__:"Indonesian",__nameLocal__:"Bahasa Indonesia"},jv:{__name__:"Javanese",__nameLocal__:"Basa Jawa"},km:{__name__:"Khmer",__nameLocal__:"ភាសាខ្មែរ"},kn:{__name__:"Kannada",__nameLocal__:"ಕನ್ನಡ"},lt:{__name__:"Lithuanian",__nameLocal__:"Lietuvių"},lv:{__name__:"Latvian",__nameLocal__:"Latviešu"},ml:{__name__:"Malayalam",__nameLocal__:"മലയാളം"},mr:{__name__:"Marathi",__nameLocal__:"मराठी"},ms:{__name__:"Malay",__nameLocal__:"Bahasa Melayu"},mt:{__name__:"Maltese",__nameLocal__:"Malti"},my:{__name__:"Burmese",__nameLocal__:"မြန်မာဘာသာ"},pa:{__name__:"Panjabi",__nameLocal__:"ਪੰਜਾਬੀ"},sk:{__name__:"Slovak",__nameLocal__:"Slovenčina"},sr:{__name__:"Serbian",__nameLocal__:"Српски"},so:{__name__:"Somali",__nameLocal__:"Somali"},su:{__name__:"Sundanese",__nameLocal__:"Basa Sunda"},sw:{__name__:"Swahili",__nameLocal__:"Kiswahili"},th:{__name__:"Thai",__nameLocal__:"ภาษาไทย"},uk:{__name__:"Ukrainian",__nameLocal__:"Українська"},ur:{__name__:"Urdu",__nameLocal__:"اردو",config:{direction:"rtl"}},uz:{__name__:"Uzbek",__nameLocal__:"O‘zbek"},vi:{__name__:"Vietnamese",__nameLocal__:"Tiếng Việt"},zu:{__name__:"Zulu",__nameLocal__:"isiZulu"}},G=__webpack_require__(5949),J=__webpack_require__(8077),K=__webpack_require__(1470);z.en.translation=G.default,z.es.translation=K.default,z.he.translation=J.default;const Z="en";class X{constructor({overrides:e,defaultLanguage:t=Z,preloadedLanguages:a}={}){this.overrides=e||{},this.languages=z,this.loadLanguages(a),this.defaultLanguage=t,this.language=t,this._updateTranslation(),this._updateMacros()}loadLanguages(e){e&&(this.languages=e)}async setLanguage(e){if(!e)return;const t=this._languageWithoutCountryCode(e);await this.loadTranslation(t),this.language=t,this._updateTranslation(),this._updateMacros()}async loadTranslation(e){try{if(!this.languages[e])throw`No such language: ${e}`;if(this.languages[e].translation)return;this.languages[e].translation=(await __webpack_require__(9662)(`./${e}-translation.js`)).default}catch(e){console.error(e)}}getTextDirection(){return this.languages[this.language]?.config?.direction||"ltr"}replaceMacros(e,t){return t&&(this.language=t),this.macros&&Object.keys(this.macros).forEach((t=>{e=e.replace(`##${t.toUpperCase()}##`,this.macros[t])})),e}toLocaleDateString(e,t){t||(t={year:"numeric",month:"short",day:"numeric"});let a=Q[this.language];return a||(a=Q[this.defaultLanguage]),new Date(e).toLocaleDateString(a,t)}_languageWithoutCountryCode(e){return e.split("-")[0]}_updateTranslation(){this.translation={...this.languages[Z]?.translation,...this.overrides[Z],...this.languages[this.defaultLanguage]?.translation,...this.overrides[this.defaultLanguage],...this.languages[this.language]?.translation,...this.overrides[this.language]}}_updateMacros(){this.macros=this.overrides[this.language]?.macros||this.overrides[this.defaultLanguage]?.macros}}var ee=__webpack_require__(8179);const te=(()=>{"undefined"==typeof navigator&&(__webpack_require__.g.navigator={connection:{effectiveType:"4g",rtt:100,downlink:1.65}});const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!e)return;const t=e.effectiveType,a=e.rtt,r=e.downlink;return JSON.stringify({effectiveType:t,rtt:a,downlink:r})})();var ae={getPlayerWrapperByID(e){return document.querySelector(`.trinity-player-iframe-wrapper[data-player-id="${e}"]`)},getPlayerIframeByID(e){const t=this.getPlayerWrapperByID(e);if(t){const e=t.getElementsByClassName(n.iframeClass);if(e&&e.length)return e[0]}},waitUntilDocumentLoaded({doc:e,documentLoadType:t,documentLoadTypeSelector:a,callback:r,interval:i=100,timeout:s=1e4}){const o=n.documentLoadTypes;if(!t||t===n.documentLoadTypes.DOMContentLoaded)return r();if(t===n.documentLoadTypes.onload)return this.checkUntil((()=>"complete"===e.readyState),r,i,s);if([o.onSelectorVisible,o.onSelectorExists].includes(t)&&a){const n=atob(a);return this.checkUntil((()=>{const a=e.querySelector(n);return t===o.onSelectorExists?a:a&&null!==a.offsetParent}),r,i,s)}console.error("No documentLoaded type has been executed")},injectScript(e,t=!1,a="head",r=!0){const i=document.createElement("script");i.type="text/javascript",r&&i.setAttribute("crossorigin","anonymous"),i.src=e,i.async=t,document.getElementsByTagName(a)[0].appendChild(i)},injectStyle({styles:e,playerId:t,id:a,parentTag:r="head"}){const i=`trinity-style-${t}-${a}`,n=document.getElementById(i);if(n)return void(n.innerHTML=e);const s=document.createElement("style");s.innerHTML=e,s.id=i,document.getElementsByTagName(r)[0].appendChild(s)},checkUntil(e,t=(()=>{}),a=50,r=5e3){return new Promise(((i,n)=>{function s(){t(),i(),clearInterval(o),clearTimeout(l)}const o=setInterval((()=>{e()&&s()}),a),l=setTimeout((()=>{console.warn("Callback executed due to timeout"),n("Callback executed due to timeout"),s()}),r)}))},getLabel(e,t){return e.paramsObject[t]||e.translation[t]},getCDNPath(e,t,a){return`https://${e}.${t}${a}`},mobileCheck(e){return"1"===(e||new URL(window.location.href).searchParams).get("forceMobile")||window.navigator.userAgent.toLowerCase().includes("mobi")||window.navigator.userAgent.toLowerCase().includes("android")},listenForColorSchemaChange(e){if(e&&window.matchMedia&&this.getDarkMedia())return this.getDarkMedia().addEventListener?this.getDarkMedia().addEventListener("change",e):void(this.getDarkMedia().addListener&&this.getDarkMedia().addListener(e))},applyStyles(e){e(),this.listenForColorSchemaChange((()=>{e()}))},getDarkMedia(){return window.matchMedia("(prefers-color-scheme: dark)")},isDark({isMobileAppDark:e}={}){return!!e||(window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:void 0)},handleIsDarkProperty({unitThemeAppearance:e,isDarkInit:t}){return!!{light:!1,dark:!0,auto_init:t,auto_react:this.isDark()}[e]},safariCheck(e){return"Safari"===e},getCampaignIdFromURL(e){const t=e.match(/\/player\/(?:trinity|trinity-i|trinity-amp)\/(\d+)\//);return t&&t[1]},removeNullableValues(e){const t={};for(const a in e)e[a]&&(t[a]=e[a]);return t},getSearchParams(e){const t=[];for(const a in e)e[a]&&t.push(`${a}=${encodeURIComponent(e[a])}`);return t.join("&")},networkInfo:te,TimePassed:class{constructor(e){this.ts=e}toString(){return parseInt(Date.now()-this.ts,10)}},isGTTopDomain(e){return e===n.googleTranslateTopDomain},getPlaybackRate(e){return Number(e)||1},getPollyLanguageName(e){const t=this.parseLanguage(e);return this.mapLanguage(t.lang)},parseLanguage(e){const t=e.split("-");return{lang:t[0],country:t[1]?e:void 0}},mapLanguage(e){return n.languageMap[e]||e},logWindowError(e,t,a,r,i,s){let o,l=s&&(s.stack||s);l=l||`${t} => ${a}:${r}:${i}`;try{o=new URL(a).host}catch(e){}if(!n.allowedLogsFromDomains.includes(o))return;new ee.A({commonData:e,logPrefix:n.logPrefix}).trackError(ee.A.EVENTS.error,`window.onerror: ${l}`)},logUnhandledRejection(e,t){new ee.A({commonData:e,logPrefix:n.logPrefix}).trackError(ee.A.EVENTS.error,`window.onunhandledrejection: ${t}`)},getValidPageUrl(e){if(!e.length)throw"there is no valid URL";const t=e.pop();try{new URL(t)}catch(t){return this.getValidPageUrl(e)}return t},createCSSTag(e){const t=document.createElement("style");return t.type="text/css",t.innerHTML=e,t},createDOMNode(e){const t=document.createElement("div");return t.innerHTML=e,t}};class re{hide(){let e,t;const a=()=>{const a=document.getElementsByClassName("trinity-tts-pb");if(a.length){for(const e of a)e.style.display="none";return clearInterval(e),clearInterval(t),!0}};a()||(e=setInterval(a,500),t=setTimeout((()=>{clearInterval(e)}),2e4))}}var ie=__webpack_require__(4744),ne=__webpack_require__.n(ie),se=["height","height-mobile","min-width","iframe","wrapper","wrapper-fab","container","loading","loading.icon.color","loading.title","main-color","background-color","background-color#rgb","is-dark","is-expanded","icon-player.width","icon-player.height","icon-player.el-play-button.id","icon-player.el-play-button","icon-player.el-play-button.icon-inner","icon-player.el-play-button.icon-outer","subscription-locked.color","el-badge.icon","el-badge.url","el-brp-logo.click-url","el-brp-logo.title","el-brp-logo.url","el-brp-slogans","el-brp-slogans.is-shown-only-when-expanded","el-brp-slogans@classes","el-brp-slogans.click-url","el-brp-slogans.items","el-play-button.id","el-play-button.icon-inner","el-play-button.icon-outer","el-play-button.pre-play-animation","el-play-button.width","el-play-button.height","layout-controls","el-powered-by.is-disabled","el-powered-by.is-shown-force","el-powered-by.link","el-powered-by.link-text","el-powered-by.link-url","el-powered-by.prefix","el-powered-by.prefix-text","el-progress-bar.bg-color","el-progress-bar.passed-color","el-progress-bar.props","el-rewind.icon-inner","el-rewind.icon-outer","menu","el-settings","el-settings.container-wrapper","el-settings.icon.id","el-settings.icon.styles","el-settings.icon.styles.main-color","el-settings.icon.styles.main-color-hover","el-settings.icon.styles.main-color-active","el-share.icon-color","el-speed.container","el-support.is-shown","el-timer","el-title-wrapper","el-title","el-title-text","el-approx-time"],oe={getUTMString(e){const t=new URLSearchParams,a=new URL(e);return t.set("utm_source",a.origin),t.set("utm_medium","player%20lin"),t.toString()},camelToKebabCase(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()},getHexFromColorName(e){const t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,t.fillStyle},hexToRGB(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,a,r)=>t+t+a+a+r+r));const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)].join(","):null}},le={get({themeData:e,isDark:t,pageURL:a,backgroundColor:r,property:i}){const s=this.getValue({object:e,path:"main-color",isDark:t})||n.defaultColorMain,o=oe.getHexFromColorName(this.getValue({object:e,path:"iframe.styles.background-color",isDark:t})||this.getValue({object:e,path:"wrapper.styles.background-color",isDark:t})||this.isMobile()&&this.getValue({object:e,path:"wrapper.styles.@mobile.background-color",isDark:t})||r||"#fff");if(["height","height-mobile","min-width","is-expanded","loading.icon.color","icon-player.width","icon-player.height","icon-player.el-play-button.id","subscription-locked.color","el-play-button.id","el-play-button.pre-play-animation","el-play-button.width","el-play-button.height","el-settings.icon.id","el-settings.icon.styles.main-color","el-settings.icon.styles.main-color-hover","el-settings.icon.styles.main-color-active","el-badge.icon","el-badge.url","el-brp-logo.url","el-brp-logo.title","el-brp-logo.click-url","el-brp-slogans.click-url","el-brp-slogans.is-shown-only-when-expanded","el-powered-by.is-disabled","el-powered-by.is-shown-force","el-progress-bar.props","el-support.is-shown"].includes(i))return this.getValue({object:e,path:i,isDark:t});if(["iframe","wrapper","wrapper-fab","container","loading","loading.title","el-play-button.icon-inner","el-play-button.icon-outer","el-brp-slogans","el-brp-slogans.classes","icon-player.el-play-button","icon-player.el-play-button.icon-inner","icon-player.el-play-button.icon-outer","layout-controls","el-powered-by.prefix","el-powered-by.link","el-rewind.icon-outer","el-rewind.icon-inner","el-settings.container-wrapper","el-settings","el-settings.icon.styles","el-speed.container","el-timer","el-title-wrapper","el-title","el-title-text","el-approx-time"].includes(i))return this.generateCSS({obj:this.getValue({object:e,path:i}),isDark:t})||"";return{"is-dark":t,"background-color":o,"background-color#rgb":oe.hexToRGB(o),"main-color":s,"el-brp-slogans@classes":this.generateClasses({obj:e["el-brp-slogans"]}),"el-brp-slogans.items":e["el-brp-slogans"]?.items?.map((e=>({style:this.generateCSS({obj:e,isDark:t}),text:e.text}))),"el-powered-by.prefix-text":this.getValue({object:e,path:"el-powered-by.prefix-text",isDark:t})||"Powered by","el-powered-by.link-text":this.getValue({object:e,path:"el-powered-by.link-text",isDark:t})||"Trinity Audio","el-powered-by.link-url":this.getValue({object:e,path:"el-powered-by.link-url",isDark:t})||`${n.homePage}/?${oe.getUTMString(a)}`,"el-progress-bar.passed-color":this.getValue({object:e,path:"el-progress-bar.passed-color",isDark:t})||s,"el-progress-bar.bg-color":this.getValue({object:e,path:"el-progress-bar.bg-color",isDark:t})||n.defaultProgressbarBGColor,menu:this.generateCSS({obj:{styles:{"background-color":o,"border-top-right-radius":e.wrapper?.styles?.["border-radius"]||0,"border-bottom-right-radius":e.wrapper?.styles?.["border-radius"]||0}},isDark:t}),"el-share.icon-color":this.generateCSS({obj:this.getValue({object:e,path:"el-share.icon-color",isDark:t})||"#777",isDark:t})}[i]},getValue({object:e,path:t,isDark:a}){const r=this.getValueByPath({object:e,path:t});if(a){const a=t.split(".");a.splice(a.length-1,0,"@dark");const i=this.getValueByPath({object:e,path:a.join(".")});if(i)return r&&r.constructor===Object?{...r,resultDark:i}:i}return r},getValueByPath({object:e,path:t}){const a=t.split(".");let r=e;for(;a.length;){if(r=r[a.shift()],!r)return}return r},generateCSS({obj:e,isDark:t}){const a={};if(!e)return"";const r=e=>{for(const t of Object.keys(e))"@dark"!==t&&"@mobile"!==t&&(a[t]=e[t]);for(const t of Object.keys(e))if("@mobile"===t&&this.isMobile())for(const r of Object.keys(e[t]))a[r]=e[t][r]};if(e.styles&&r(e.styles),t&&e.styles?.["@dark"]&&r(e.styles["@dark"]),!a)return"";let i="";for(const e of Object.keys(a))i+=`${e}: ${a[e]}; `;return i.trim()},generateClasses({obj:e,classes:t=[]}){const a=t;if(!e)return a.join(" ").trim();for(const a of Object.keys(e))"classes"===a&&t.push(...e[a]),"classes@mobile"===a&&this.isMobile()&&t.push(...e[a]);return a.join(" ").trim()},isMobile(){return ae.mobileCheck()}};const de=({themeData:e})=>e&&Object.keys(e).length?e:{},ce={v2:le};class pe{constructor({themeData:e,overrideThemeData:t,pageURL:a,backgroundColor:r}){this.pageURL=a,this.backgroundColor=r,this.isMobile=ae.mobileCheck(),this.json=de({themeData:e}),this.version=this.json.version||2,this.themeHandler=ce[`v${this.version}`],t&&de({themeData:t})&&(this.json=ne()(this.json||{},de({themeData:t})||{},{arrayMerge:(e,t)=>t}))}appendFontsTo(e){if(!e||!Object.keys(this.json).length)return;(this.json.fonts||[]).forEach((t=>{const a=(({link:e,name:t,weight:a,woff2:r,woff:i})=>e||(t?`\n    @font-face {\n      font-family: "${t}";\n      font-weight: ${a};\n      font-display: swap;\n      src: url("${r}") format("woff2"),\n           url("${i}") format("woff");\n    }`:void 0))(t);if(!a)return;let r;if(t.link){const e=document.createElement("link");e.rel="stylesheet",e.href=a,r=e}else t.name&&(r=ae.createCSSTag(a));r&&e.appendChild(r)}))}get({isDark:e=!1,property:t}){return this.themeHandler.get({themeData:this.json,isDark:e,pageURL:this.pageURL,backgroundColor:this.backgroundColor,property:t})}generateAllThemeProperties(e){const t={};return se.forEach((a=>{t[a]=this.get({property:a,isDark:e})})),t}getPageBackgroundColor(e){const t=e=>["transparent","rgba(0, 0, 0, 0)"].includes(window.getComputedStyle(e).backgroundColor);for(;t(e)&&e.parentNode!==document;)e=e.parentNode;if(!t(e))return window.getComputedStyle(e).backgroundColor}}var ue={getDuration:async function(e){const t=new Audio(e);return new Promise(((a,r)=>{t.addEventListener("loadedmetadata",(()=>a(t.duration))),t.addEventListener("error",(t=>{r(`Error getting custom file duration of ${e}. ${JSON.stringify(t)}`)}))}))}},he=__webpack_require__(3086),me=__webpack_require__(8924),_e=__webpack_require__(2421),ge=__webpack_require__(8014);let ye;class fe{constructor({playerId:e,pageURL:t,selectorVersion:a,selector:r,headlineSelector:i,articleSelector:n,isNewTextApproach:s,filters:o,language:l,tagScriptQueryParams:d}){this.playerId=e,this.playerData=window.TRINITY_PLAYER.players[e],this.pageURL=t,this.selectorVersion=a,this.selector=r,this.headlineSelector=i,this.articleSelector=n,this.isNewTextApproach=s,this.filters=o||[],this.language=l,this.tagScriptQueryParams=d,this.depart=_e.A}async start(){return new Promise(((e,t)=>{try{ae.waitUntilDocumentLoaded({doc:document,documentLoadType:this.playerData.documentLoadType,documentLoadTypeSelector:this.playerData.documentLoadTypeSelector,timeout:2e4,callback:async({isTimeout:a,timeout:r}={})=>{if(a){const e=`Timeout in ${r}ms`;this.depart.trackError(this.depart.EVENTS.error,e),t(e)}const i=await this._readPageText();let s=[];if(Array.isArray(this.playerData.publisherSections)&&(this.publisher=new ge.A({pageURL:this.pageURL,doc:this.doc,tagScriptQueryParams:this.tagScriptQueryParams,playerData:this.playerData}),s=this.publisher.getPublisherSectionData()),!i)return t({message:"Text was not found"});const o=this._getDocumentTitle(),l=this.playerData.headlineText,d=this.playerData.articleText,c=this.metadata.canonicalURL,p=H.A.getCanonicalHash({canonicalURL:c||this.contentURL,language:this.language});e({text:i,articleTitle:o,articleHeadline:l,articleText:d,estimatedDuration:this._getEstimatedDuration({text:i,language:this.language}),hash:await(0,he.A)(`${i}${o}${atob(n.audioHashSalt.map((e=>String.fromCharCode(e))).join(""))}`),aih:await(0,he.A)(`${l}${d}${atob(n.audioIntegritySalt.map((e=>String.fromCharCode(e))).join(""))}`),metadata:this.metadata,contentURL:this.contentURL,contentHash:await H.A.getContentHash(this.contentURL),canonicalURL:c,canonicalHash:p,canonicalHashWrapped:H.A.getCanonicalHashWrapped(p),publisherSectionData:s})}})}catch(e){t(e)}}))}_getDocumentTitle(){return this.tagScriptQueryParams.get("articleTitle")||this.rootDoc.title||this.doc.getElementsByTagName("title")?.[0]?.textContent||this.metadata.title||"---NO TITLE---"}async _readPageText(){const t=await this._applyReadContentHook();this.contentURL=t?.url||this.pageURL,t?.content?(this.doc=t.content,this.rootDoc=t.content.parentNode):(this.doc=document.documentElement,this.rootDoc=document),this.metadata=this._getMetadata(),this.filters.unshift({name:"nodefiltered",params:n.excludeTags,isDefaultFilters:!0}),this.textParser=new D({version:this.selectorVersion});let a=this.textParser.parse({node:this.doc,filters:this.filters,selector:this.selector});const r=this.textParser.parse({node:this.doc,selector:this.headlineSelector}),i=this.textParser.parse({node:this.doc,filters:this.filters,selector:this.articleSelector});if(this.isNewTextApproach&&(a=`${r} ${b} ${i}`),!(a.length>n.maxTextLength)){if(this.playerData.resultReadingText=a,this.playerData.headlineText=r,this.playerData.articleText=i,this.playerData.unitEnvironment===e.A.UNIT_ENVIRONMENT.WP){try{await this._waitUntilVariableAvailable()}catch(e){return void console.error(e)}this.playerData.resultReadingText=this.textParser.replaceNewLine(window.TRINITY_TTS_WP_CONFIG.cleanText),window.TRINITY_TTS_WP_CONFIG.headlineText&&(this.playerData.headlineText=this.textParser.replaceNewLine(window.TRINITY_TTS_WP_CONFIG.headlineText)),window.TRINITY_TTS_WP_CONFIG.articleText&&(this.playerData.articleText=this.textParser.replaceNewLine(window.TRINITY_TTS_WP_CONFIG.articleText)),window.TRINITY_TTS_WP_CONFIG.metadata&&(this.metadata.author=this.metadata.author||window.TRINITY_TTS_WP_CONFIG.metadata.author)}return window.TRINITY_PLAYER.api.isMultiplePlayers||(window.TRINITY_PLAYER.resultReadingText=this.playerData.resultReadingText,window.TRINITY_PLAYER.headlineText=this.playerData.headlineText,window.TRINITY_PLAYER.articleText=this.playerData.articleText),this.playerData.resultReadingText||this.tagScriptQueryParams.get("cf")?this.playerData.resultReadingText:(this.depart.trackError(this.depart.EVENTS.error,"No text was found"),void console.error(`Removing the player, as no text was found for playing. Please check the selector. Selector: ${this.selector}`))}console.error(`Exceeded maximum text length of ${n.maxTextLength} characters. Found: ${a.length}`)}async _applyReadContentHook(){const{readContentType:e,readContentConfig:t}=this.playerData;let a;if(t)try{a=JSON.parse(t)}catch(e){this.depart.trackError(this.depart.EVENTS.error,`Can't parse readContentConfig. ${e}`)}if(!e||!a)return;try{ye=await I.load({fn:async()=>(await __webpack_require__.e(167,"high").then(__webpack_require__.bind(__webpack_require__,167))).default,moduleName:"read-content-hook",depart:this.depart})}catch(e){return void window.TRINITY_PLAYER.api._internal.removePlayer()}const r=new ye({type:e,config:a,doc:document,logPrefix:n.logPrefix,depart:({message:e})=>{this.depart.trackError(this.depart.EVENTS.error,e)}});return{content:await r.getContent(),url:r.getContentURL()}}_getMetadata(){const e=new me.A({doc:this.doc,logPrefix:n.logPrefix,override:{imageURL:{type:"css",selector:this.playerData.imageSelector}}}).find();return e.imageURL=e.imageURL||this.tagScriptQueryParams.get("articleImage"),e.description=e.description||this.tagScriptQueryParams.get("articleDescription"),e}_getEstimatedDuration({text:e,language:t="en"}){const a=n.averageAudioTimePerChar[t]||n.averageAudioTimePerChar.en;return e.replace(/\s\s+/," ").length*a}_waitUntilVariableAvailable({timeout:e=2e4,variableName:t="TRINITY_TTS_WP_CONFIG"}={}){return new Promise(((a,r)=>{if(void 0!==window[t])return a();const i=setInterval((()=>{void 0!==window[t]&&(a(),clearInterval(i),clearTimeout(n))}),500),n=setTimeout((()=>{r(`Variable ${t} is not available!`)}),e)}))}}const be=15;function Te(e){const t=e.getBoundingClientRect(),a=t.left+be,r=t.right-be,i=t.top+be,n=t.bottom-be;return!(!document.elementFromPoint(a,i)||document.elementFromPoint(a,i)===e)||(!(!document.elementFromPoint(r,i)||document.elementFromPoint(r,i)===e)||(!(!document.elementFromPoint(a,n)||document.elementFromPoint(a,n)===e)||document.elementFromPoint(r,n)&&document.elementFromPoint(r,n)!==e))}var we={initPlayerViewabilityObserver:function({iframe:e,behindOtherElement:t,callback:a}){const r=new IntersectionObserver((i=>{100*i[0].intersectionRatio>=90&&t===Boolean(Te(e))&&(a&&a(),r.disconnect())}),{threshold:[.9,1]});r.observe(e)},isBehindOtherElement:Te,viewabilityEvents:{exitedView:"exitedView",enteredView:"enteredView"}};class Ae{constructor({iframeEl:e}){this.iframeEl=e}init(){window.addEventListener("message",(e=>{if(e.data?.type!==l.A.PRIVATE_MESSAGE_TYPE)return;if(!this.iframeEl.isConnected)return;const t=e.source;if(e.data.value?.action===l.A.privateMessages.ready)we.initPlayerViewabilityObserver({iframe:this.iframeEl,behindOtherElement:!1,callback:()=>{window.TRINITY_PLAYER.players[e.data.value.playerId].enteredView=!0,t.postMessage({type:l.A.PRIVATE_MESSAGE_TYPE,value:{action:l.A.privateMessages.enteredView}},"*")}}),we.initPlayerViewabilityObserver({iframe:this.iframeEl,behindOtherElement:!0,callback:()=>{t.postMessage({type:l.A.PRIVATE_MESSAGE_TYPE,value:{action:l.A.privateMessages.exitedView}},"*")}})}))}}const Ee=300;function ve(e,t,a){const r=String(Date.now()+parseInt(100*Math.random(),10));window.addEventListener("message",(e=>{e.data?.type===l.A.PRIVATE_MESSAGE_TYPE&&e.data?.value?.action===l.A.privateMessages.FABResponse&&e.data?.value?.message===r&&(clearInterval(n),a())}));const i=()=>{e.contentWindow?.postMessage({type:l.A.PRIVATE_MESSAGE_TYPE,value:{action:t,message:r}},"*")};i();const n=setInterval(i,Ee)}var De=function({playerId:e,isMobile:t,config:a,iframe:r,iframeWrapper:i}){this.show=()=>{window.TRINITY_PLAYER.api.isMultiplePlayers||a.show_after_player_entered_view&&!window.TRINITY_PLAYER.players[e].enteredView||ve(r,l.A.privateMessages.FABShow,(()=>{r.classList.add(n.fabViewClass),a.text_position&&r.classList.add(`text-position-${a.text_position}`),t?(r.style.bottom=this.getValueFromConfig("m_bottom","16px"),r.style.left=this.getValueFromConfig("m_left","16px"),r.style.right=this.getValueFromConfig("m_right",""),i.style.zIndex=this.getValueFromConfig("m_zindex","600")):(r.style.bottom=this.getValueFromConfig("bottom","32px"),r.style.left=this.getValueFromConfig("left","32px"),r.style.right=this.getValueFromConfig("right",""),i.style.zIndex=this.getValueFromConfig("zindex","1000"))}))},this.hide=()=>{window.TRINITY_PLAYER.api.isMultiplePlayers||ve(r,l.A.privateMessages.FABHide,(()=>{r.classList.remove(n.fabViewClass),a.text_position&&r.classList.remove(`text-position-${a.text_position}`),i.style.zIndex=""}))},this.getValueFromConfig=(e,t)=>a&&a[e]||t};class Ie{constructor({playerId:e,isMobile:t,iframeEl:a,parentWindowQueryParams:r}){this.playerId=e,this.playerData=window.TRINITY_PLAYER.players[this.playerId],this.isMobile=t,this.iframeEl=a,this.parentWindowQueryParams=r,this.FABOnly=this.playerData.FABOnly||"1"===this.parentWindowQueryParams.get("TRINITY_FAB_ONLY")}init(){this._isFABEnabled()&&(this._initFABView(),this.playerData.FABConfig?.excl_selector&&setInterval((()=>{this.iframeEl.isConnected&&this._hidePlayerOverExcSelector()}),200))}toggleForcePermanently(e){this._isFABEnabled()&&(this.isIgnoredViewability=e,e?this.FABViewManager.show():this._forceUpdateObserver())}_hidePlayerOverExcSelector(){const e=document.querySelectorAll(this.playerData.FABConfig.excl_selector);let t=!1;if(e.length){for(const r of e)if(t=a(this.iframeEl,r),t)break;return t?this._hide():this._show()}function a(e,t){const a=e.getBoundingClientRect(),r=a.left-1,i=a.right+1,n=a.top-1,s=a.bottom+1;return!(document.elementFromPoint(r,n)!==t&&!t.contains(document.elementFromPoint(r,n)))||(!(document.elementFromPoint(i,n)!==t&&!t.contains(document.elementFromPoint(r,n)))||(!(document.elementFromPoint(r,s)!==t&&!t.contains(document.elementFromPoint(r,n)))||(document.elementFromPoint(i,s)===t||t.contains(document.elementFromPoint(r,n)))))}}_show(){this.iframeEl.classList.remove("trinity-if-hidden")}_hide(){this.iframeEl.classList.add("trinity-if-hidden")}_initFABView(){this.FABViewManager=new De({playerId:this.playerId,isMobile:this.isMobile,config:this.playerData.FABConfig,iframe:this.iframeEl,iframeWrapper:this.iframeEl.parentNode}),this.FABOnly?this.FABViewManager.show():this._initFabIntersectionObserver()}_isFABEnabled(){return!window.TRINITY_PLAYER.api.isMultiplePlayers&&(this.playerData.isShowFAB||"1"===this.parentWindowQueryParams.get("TRINITY_FAB"))&&"undefined"!=typeof IntersectionObserver&&this.playerData.themeData.layout!==n.generateButtonLayout}_initFabIntersectionObserver(){this.observer=new IntersectionObserver((e=>{this.isIgnoredViewability||window.TRINITY_PLAYER.api.isMultiplePlayers||(e[0].intersectionRatio>=.5?this.FABViewManager.hide():this.FABViewManager.show())}),{threshold:[.45,.5,.55]}),this.iframeEl.parentNode&&this.observer.observe(this.iframeEl.parentNode)}_forceUpdateObserver(){this.observer.unobserve(this.iframeEl.parentNode),this.observer.observe(this.iframeEl.parentNode)}}class Pe{constructor({playerHeightPx:e,theme:t,playerData:a,i18n:r,isDark:i}){this.playerHeightPx=e,this.theme=t,this.playerData=a,this.i18n=r,this.isDark=i}async init(){return this.el=document.createElement("iframe"),this.el.className="trinity-iframe trinity-loader",this.el.style.height=this.playerHeightPx,this.el.onload=()=>{this.theme.appendFontsTo(this.el.contentDocument.head),this.el.classList.add("loaded"),this.el.contentDocument.head.appendChild(ae.createCSSTag(this._getLoadingAnimation().style)),this.el.contentWindow.document.body.appendChild(ae.createDOMNode(this._getLoadingAnimation().html))},this.el}remove(){this.el&&this.el.remove()}_getLoadingAnimation(){return{style:`\n      body {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        overflow: hidden;\n      }\n\n      .trinity-player-loading-animation {\n        height: ${this.playerHeightPx};\n        line-height: ${this.playerHeightPx};\n        white-space: nowrap;\n        ${this.theme.get({property:"loading",isDark:this.isDark})}\n      }\n\n      .trinity-player-loading-animation > span {\n        display: inline-block;\n        width: calc(100% - 10px - 50px - 5px);\n        margin: 0 0 0 10px;\n        vertical-align: middle;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-family: sans-serif;\n        font-weight: bold;\n        font-size: 13px;\n        color: ${n.defaultColorMain};\n        ${this.theme.get({property:"loading.title",isDark:this.isDark})}\n        white-space: nowrap;\n      }\n\n      .trinity-player-loading-animation-container {\n        width: 50px;\n        height: 50px;\n        vertical-align: middle;\n        display: inline-block;\n      }\n\n      .trinity-player-loading-animation.dir-rtl .trinity-player-loading-text {\n        direction: rtl;\n        font-family: Arial;\n        font-size: 15px;\n      }\n\n      ${this._getLoadingIconStyles(this.theme.get({property:"loading.icon.color",isDark:this.isDark}))}`,html:`<div class="trinity-player-loading-animation dir-${this.i18n.getTextDirection()}">\n      <div class="trinity-player-loading-animation-container">\n        <?xml version="1.0" encoding="utf-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100">\n    <g transform="rotate(180 50 50)">\n        <rect x="13" y="30" width="14" height="20" fill="#E8005D">\n            <animate attributeName="height" calcMode="spline" values="20;50;0;20" dur="1s"\n                     keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" repeatCount="indefinite" begin="-0.5s"></animate>\n        </rect>\n        <rect x="33" y="30" width="14" height="14" fill="#E8005D">\n            <animate attributeName="height" calcMode="spline" values="20;50;0;20" dur="1s"\n                     keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" repeatCount="indefinite" begin="-0.75s"></animate>\n        </rect>\n        <rect x="53" y="30" width="14" height="33" fill="#E8005D">\n            <animate attributeName="height" calcMode="spline" values="20;50;0;20" dur="1s"\n                     keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" repeatCount="indefinite" begin="0s"></animate>\n        </rect>\n        <rect x="73" y="30" width="14" height="50" fill="#E8005D">\n            <animate attributeName="height" calcMode="spline" values="20;50;0;20" dur="1s"\n                     keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1" repeatCount="indefinite" begin="-0.25s"></animate>\n        </rect>\n    </g>\n</svg>\n\n      </div>\n      <span class="trinity-player-loading-text">${this._getLoaderText()}</span>\n    </div>`}}_getLoaderText(){return this.playerData.loaderText?decodeURIComponent(this.playerData.loaderText).trim():ae.getLabel({paramsObject:this.playerData.paramsObject,translation:this.i18n.translation},ae.mobileCheck()?"playerLoadingTitleMobile":"playerLoadingTitle")}_getLoadingIconStyles(e){return e?`\n      .trinity-player-loading-animation-container > svg > g rect {\n        fill: ${e};\n      }\n    `:""}}var Se=__webpack_require__(5072),ke=__webpack_require__.n(Se),Ce=__webpack_require__(7825),Re=__webpack_require__.n(Ce),Le=__webpack_require__(7659),Ne=__webpack_require__.n(Le),Me=__webpack_require__(5056),xe=__webpack_require__.n(Me),je=__webpack_require__(540),Oe=__webpack_require__.n(je),Fe=__webpack_require__(1113),Ue=__webpack_require__.n(Fe),Ye=__webpack_require__(6588),Ve={};Ve.styleTagTransform=Ue(),Ve.setAttributes=xe(),Ve.insert=Ne().bind(null,"head"),Ve.domAPI=Re(),Ve.insertStyleElement=Oe();ke()(Ye.A,Ve),Ye.A&&Ye.A.locals&&Ye.A.locals;const We="trinity-tts-placeholder-icon-player";class Be{constructor({playerType:e,theme:t,isDarkHandler:a,isMobile:r,depart:i,playerId:n,playerData:s,playerEl:o,playerHeightPx:l}){this.playerType=e,this.theme=t,this.isDarkHandler=a,this.isMobile=r,this.depart=i,this.playerId=n,this.playerData=s,this.playerEl=o,this.playerHeightPx=l,this._listedEvents(),this._appendStyles()}static isEnabled(e){return e===n.playerType.iconPlayerExpandable}async getButton(){try{await ae.checkUntil((()=>this.button));const e=document.createElement("div");return e.className="trinity-icon-player-button",ae.applyStyles((()=>{e.style=this.theme.get({property:"icon-player.el-play-button",isDark:this.isDarkHandler()})})),e.innerHTML=this.button,e}catch(e){this.depart.trackError(this.depart.EVENTS.error,`Error while getting icon player button: ${e}`)}}moveIconPlayerToPlaceholder(){this._resolveCoordinates(),document.querySelector(`.${n.wrapperClass}`).setAttribute("data-state","initializing"),this._applyStyledToPlayer(),this.placeholderEl.style.minHeight=this.playerHeightPx,this.isMobile||(this.placeholderEl.style.minWidth=this.theme.get({property:"min-width",isDark:this.isDarkHandler()})),this._startObservingPageChanges()}_appendStyles(){ae.applyStyles((()=>{const e=this.theme.json["icon-player"],t=this.theme.get({property:"icon-player.el-play-button.icon-inner",isDark:this.isDarkHandler()}),a=this.theme.get({property:"icon-player.el-play-button.icon-outer",isDark:this.isDarkHandler()}),r=`\n        [data-player-type="icon-expandable"][data-state="not_initialized"],\n        .trinity-icon-player-button {\n          width: ${e.width} !important;\n          height: ${e.height} !important;\n        }\n\n        [data-player-type="icon-expandable"][data-state="not_initialized"] .trinity-iframe {\n          height: ${e.height} !important;\n        }\n\n        .trinity-icon-player-button .icon-button-inner {\n          ${t}\n        }\n\n        .trinity-icon-player-button .icon-button-outer {\n          ${a}\n        }\n    `;ae.injectStyle({styles:r,playerId:this.playerId,id:"icon-player"})}))}_listedEvents(){window.addEventListener("message",(async e=>{if(e.data?.type===l.A.PRIVATE_MESSAGE_TYPE&&e?.data?.value?.playerId===this.playerId&&e.data.value?.action===l.A.privateMessages.iconPlayerButton)this.button=e?.data?.value?.message}))}_resolveCoordinates(){this.placeholderEl=document.getElementsByClassName(We)[0],this.placeholderEl||(this.depart.trackError(this.depart.EVENTS.error,`Can't find placeholder for icon player with ${We} class. Creating placeholder for you...`),this.placeholderEl=document.createElement("div"),this.placeholderEl.className=We,document.body.appendChild(this.placeholderEl));const e=document.getElementsByClassName("trinity-tts-icon-player-button-wrapper")[0],t=this.placeholderEl.getBoundingClientRect(),a=e.getBoundingClientRect(),r=getComputedStyle(this.placeholderEl);let i=t.width-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10);i<320&&(i=320);const n=t.top-a.top+parseInt(r.paddingTop,10),s=t.left-a.left+parseInt(r.paddingLeft,10);this.coordinates={playerEl:{top:n,left:s,playerMaxWidth:i}}}_applyStyledToPlayer(){Object.assign(this.playerEl.style,{position:"absolute",top:`${this.coordinates.playerEl.top}px`,left:`${this.coordinates.playerEl.left}px`,width:`${this.coordinates.playerEl.playerMaxWidth}px`,maxWidth:`${this.coordinates.playerEl.playerMaxWidth}px`})}_startObservingPageChanges(){window.addEventListener("resize",(()=>{this._resolveCoordinates(),this._applyStyledToPlayer()}))}}const $e={isOpen:!1,orientation:void 0},He=(e,t)=>{globalThis.dispatchEvent(new globalThis.CustomEvent("devtoolschange",{detail:{isOpen:e,orientation:t}}))},qe=({emitEvents:e=!0}={})=>{const t=globalThis.outerWidth-globalThis.innerWidth>170,a=globalThis.outerHeight-globalThis.innerHeight>170,r=t?"vertical":"horizontal";a&&t||!(globalThis.Firebug&&globalThis.Firebug.chrome&&globalThis.Firebug.chrome.isInitialized||t||a)?($e.isOpen&&e&&He(!1,void 0),$e.isOpen=!1,$e.orientation=void 0):($e.isOpen&&$e.orientation===r||!e||He(!0,r),$e.isOpen=!0,$e.orientation=r)};qe({emitEvents:!1}),setInterval(qe,500);var Qe=$e;function ze(){return"undefined"!=typeof performance?performance.now():Date.now()}function Ge(e={}){const{includes:t=[],excludes:a=[]}=e;let r=!1,i=!1;for(const e of t)if(!0===e){r=!0;break}for(const e of a)if(!0===e){i=!0;break}return r&&!i}let Je,Ke,Ze,Xe,et;const tt=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:this}(),at=(null===(Je=null==tt?void 0:tt.navigator)||void 0===Je?void 0:Je.userAgent)||"unknown",rt="InstallTrigger"in((null==tt?void 0:tt.window)||{})||/firefox/i.test(at),it=/trident/i.test(at)||/msie/i.test(at),nt=/edge/i.test(at),st=/webkit/i.test(at)&&!nt,ot=/IqiyiApp/.test(at),lt=void 0!==(null===(Ke=null==tt?void 0:tt.window)||void 0===Ke?void 0:Ke.chrome)||/chrome/i.test(at)||/CriOS/i.test(at);"[object SafariRemoteNotification]"===((null===(Xe=null===(Ze=null==tt?void 0:tt.window)||void 0===Ze?void 0:Ze.safari)||void 0===Xe?void 0:Xe.pushNotification)||!1).toString()||/safari/i.test(at);const dt="function"==typeof(null===(et=tt.document)||void 0===et?void 0:et.createElement);function ct(e){if(console){if(!it&&!nt)return console[e];if("log"===e||"clear"===e)return(...t)=>{console[e].apply(console,t)}}return(...e)=>{}}const pt=ct("log"),ut=ct("table"),ht=/ /;let mt=!1;ht.toString=()=>(mt=!0,_t.name);const _t={name:"dep-reg-to-string",async test(){return mt=!1,ut({dep:ht}),mt},async isEnable(){return Ge({includes:[!0],excludes:[rt,it,lt]})}},gt=function(...e){return(null==tt?void 0:tt.document)?tt.document.createElement(...e):{}}("div");gt.innerText="test";let yt=!1;Object.defineProperty(gt,"id",{get(){return yt=!0,ft.name},configurable:!0});const ft={name:"element-id",async test(){return yt=!1,pt(gt),yt},async isEnable(){return Ge({includes:[!0],excludes:[it,nt,rt]})}};function bt(){}let Tt=0;bt.toString=()=>(Tt++,"");const wt={name:"function-to-string",async test(){return Tt=0,pt(bt),2===Tt},async isEnable(){return Ge({includes:[!0],excludes:[ot,rt,lt]})}},At=/ /;let Et=!1;At.toString=()=>(Et=!0,vt.name);const vt={name:"player-regex",async test(){return Et=!1,pt(At),Et},async isEnable(){return Ge({includes:[!0],excludes:[st,lt]})}},Dt={name:"debugger-checker",async test(){const e=ze();return function(){}.constructor("debugger")(),ze()-e>100},async isEnable(){return!0}},It=new Date;let Pt=0;It.toString=()=>(Pt++,"");const St={name:"date-to-string",async test(){return Pt=0,pt(It),2===Pt},async isEnable(){return Ge({includes:[],excludes:[lt]})}},kt={name:"eruda",async test(){let e;return"undefined"!=typeof eruda&&!0===(null===(e=null===eruda||void 0===eruda?void 0:eruda._devTools)||void 0===e?void 0:e._isShow)},async isEnable(){return!0}},Ct=/macintosh/i.test(at),Rt=/ipad/i.test(at)||Ct&&navigator.maxTouchPoints>1,Lt=/iphone/i.test(at),Nt=/android/i.test(at),Mt=(/windows/i.test(at),Lt||Rt);new class{constructor({checkers:e}){this._listeners=[],this._isOpen=!1,this._detectLoopStopped=!0,this._detectLoopDelay=500,this._checkers=e.slice()}launch(){dt&&(this._detectLoopDelay<=0&&this.setDetectDelay(500),this._detectLoopStopped&&(this._detectLoopStopped=!1,this._detectLoop()))}stop(){this._detectLoopStopped||(this._detectLoopStopped=!0,clearTimeout(this._timer))}isLaunch(){return!this._detectLoopStopped}setDetectDelay(e){this._detectLoopDelay=e}addListener(e){this._listeners.push(e)}removeListener(e){this._listeners=this._listeners.filter((t=>t!==e))}_broadcast(e){for(const t of this._listeners)try{t(e.isOpen,e)}catch{}}async verifyState(){let e=!1,t="";for(const a of this._checkers){if(await a.isEnable()&&(t=a.name,e=await a.test()),e)break}return e!==this._isOpen&&(this._isOpen=e,this._broadcast({isOpen:e,checkerName:t})),{isOpen:e,checkerName:t}}async _detectLoop(){await this.verifyState(),this._detectLoopDelay>0&&!this._detectLoopStopped?this._timer=setTimeout((()=>this._detectLoop()),this._detectLoopDelay):this.stop()}}({checkers:[kt,ft,vt,wt,_t,St,Dt]});let xt;class jt{constructor({depart:e,user:t,isAMP:a}){this.depart=e,this.user=t,this.isAMP=a,this.depart.updateUserData(this.user.cookieStorageObject.data),window.addEventListener("devtoolschange",(e=>{this.handleWindowResized(e.detail.isOpen)}))}init(){this.handleWindowResized(Qe.isOpen)}handleWindowResized(e){e&&(Mt||this._isMobileAMP()||window.TRINITY_PLAYER?.api?._internal&&(window.TRINITY_PLAYER.api._internal.resizeWindow(e),xt||this.depart.track("windowResized",{num_value:this._randomNumValue(1e3,9999)}),xt=!0))}_isMobileAMP(){return Nt&&this.isAMP}_randomNumValue(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}const Ot="##CANONICAL_HASH##";var Ft={getShareURL({shareEndpoint:t,isDev:a,canonicalHashWrapped:r}){let i=`https://${a?e.A.HOSTNAME_DEV:e.A.HOSTNAME}/player/share/${Ot}`;return t&&(i=t),this._replaceMacros({template:i,canonicalHashWrapped:r})},_replaceMacros({template:e,canonicalHashWrapped:t}){return e.replace(Ot,t)}},Ut={open({action:e,message:t,playerData:a,subscriptionLockedURL:r,pageURL:i,theme:n,i18n:s}){switch(e){case l.A.privateMessages.poweredByClicked:this._openLink(n.get({property:"el-powered-by.link-url"}));break;case l.A.privateMessages.brpLogoClicked:this._openLink(n.get({property:"el-brp-logo.click-url"}));break;case l.A.privateMessages.brpSloganClicked:this._openLink(n.get({property:"el-brp-slogans.click-url"}));break;case l.A.privateMessages.badgeClicked:this._openLink(n.get({property:"el-badge.url"}));break;case l.A.privateMessages.reportIssueClicked:this._openLink(this._processURL(s.translation.support.reportIssueURL,{pageURL:i}));break;case l.A.privateMessages.giveFeedbackClicked:this._openLink(this._processURL(s.translation.support.giveFeedbackURL,{pageURL:i}));break;case l.A.privateMessages.subscriptionLockedClicked:this._openLink(r);break;case l.A.privateMessages.shareOpen:const e=Ft.getShareURL({shareEndpoint:a.shareEndpoint,isDev:a.isDev,canonicalHashWrapped:t.canonicalHashWrapped});this._openLink(e)}},_openLink(e){window.open(e)},_processURL(e,{pageURL:t}){return e.replace("[URL]",t)}};const Yt=Date.now();let Vt,Wt,Bt,$t;class Ht{constructor(e){if(this.playerId=e,this.playerData=window.TRINITY_PLAYER.players[this.playerId],this.depart=_e.A,!this.playerData)throw`PlayerID was not found for TTS: ${this.playerId}. Available player IDs: ${Object.keys(window.TRINITY_PLAYER.players).join(", ")}`;this.logTime=new q({logger:o()("TRINITY_TTS:InjectorScript:iframeCreator:Timer")}),this.tagScript=this._getTagScript(),this.tagScriptSrc=this.tagScript?.src||document.location.href,this.parentWindowQueryParams=new URL(window.location.href).searchParams,this.tagScriptQueryParams=new URL(this.tagScriptSrc).searchParams,this.audioDataQueryParams=new URL(this.tagScriptSrc).searchParams,this.isMobile=ae.mobileCheck(this.tagScriptQueryParams),this.isDarkInit=ae.isDark({isMobileAppDark:Boolean(Number(this.playerData.SDKData?.darkModeIsOn))}),this.handleIsDarkProperty=()=>ae.handleIsDarkProperty({isDarkInit:this.isDarkInit,unitThemeAppearance:this.playerData.themeAppearance});const t=this.parentWindowQueryParams.get("TRINITY_DISPLAY_OVERLAY_ENABLED");let a,r;t&&(this.playerData.displayOverlay.isEnabled=Boolean(Number(t))),this.subscriptionLockedURL=this.tagScriptQueryParams.get("subscriptionLockedURL");try{a=this.tagScriptQueryParams.get("pageURL")||this.tagScriptQueryParams.get("url"),new URL(a),r=a}catch(e){a="about:blank"===window.location.href?document.referrer:window.location.href;try{new URL(a),r=a}catch(e){this.depart.trackError(this.depart.EVENTS.error,`Can't parse URL ${a}`)}}this.pageURL=r,this.audioDataQueryParams.set("pageURL",r),this.contentURL=this.playerData.rchURL||this.pageURL,this.publisher=new ge.A({pageURL:this.pageURL,tagScriptQueryParams:this.tagScriptQueryParams,playerData:this.playerData}),this.user=new $({depart:this.depart,providedUserId:window.TRINITY_PLAYER.userId}),this.user.init(),this.devToolsHandler=new jt({depart:this.depart,user:this.user,isAMP:this.playerData?.isAMP}),this.playerData.publisherUserId=this.publisher.getPublisherUserId(),this.themeId=this.playerData.themeId,this.themeData=this.playerData.themeData||{},this.theme=new pe({themeData:this.themeData,pageURL:this.pageURL});const i=this._getPlayerHeight(),s=this.theme.get({property:"height-mobile",isDark:this.isDark}),d=`${i||n.playerHeight.int}px`,c=`${s||i||n.playerHeight.int}px`;this.playerHeightPx=this.isMobile?c:d,this.styles={playerHeight:i,playerHeightMobile:s,playerHeightDesktopPx:d,playerHeightMobilePx:c,playerHeightPx:this.playerHeightPx},this.postMessageHelper=new l.A({playerId:e}),this.appendType=this._getAppendType(),this.resolveBackgroundColor(),ae.listenForColorSchemaChange((()=>{this.resolveBackgroundColor(),this._addIframeStyles(),this.depart.track(_e.A.EVENTS.appearanceChanged,{text_value:{isDark:this.isDark,parentBackgroundColor:this.backgroundColor}})}))}get isDark(){return this.handleIsDarkProperty()}resolveBackgroundColor(){this.backgroundColor=this.theme.getPageBackgroundColor(this.appendType.el)}async render(){if(this.logTime.log({eventName:q.events.TRINITY_TTS_TAG_SCRIPT_EXEC_TIME,value:window.__TRINITY_TAG_TIME__}),this.i18n=new X({defaultLanguage:this.playerData.language,overrides:this.playerData.themeData?.i18n}),await this.i18n.setLanguage(this.playerData.language),this.loader=new Pe({playerHeightPx:this.playerHeightPx,theme:this.theme,playerData:this.playerData,i18n:this.i18n,isDark:this.isDark}),this.loaderEl=await this.loader.init(),this.playerData.isTrinityEnabled=this.playerData.isTrinityEnabled||"1"===this.parentWindowQueryParams.get("TRINITY_LOAD_PLAYER"),"0"===this.parentWindowQueryParams.get("TRINITY_LOAD_PLAYER")&&(this.playerData.isTrinityEnabled=!1),!this.playerData.isTrinityEnabled)return this._hideAppendElement();this.wrapperEl=this._createWrapper(),this.wrapperEl.appendChild(this.loaderEl),this._attachWrapperToDOM(this.wrapperEl),Be.isEnabled(this.playerData.playerType)&&(this.iconPlayer=new Be({playerType:this.playerData.playerType,theme:this.theme,isDarkHandler:()=>this.isDark,isMobile:this.isMobile,depart:this.depart,playerId:this.playerId,playerData:this.playerData,playerEl:this.wrapperEl,playerHeightPx:this.styles.playerHeightPx}),this.iconPlayer.getButton().then((e=>{e&&this._attachWrapperToDOM(e)}))),this._hidePoweredByExternal();const e=this.playerData.cf;let t;t=e?[Promise.resolve({publisherSectionData:this.publisher.getPublisherSectionData()}),ue.getDuration(e)]:[this._readTextFromPage(),Promise.resolve(null)];const a=this._getHostName();this.audioDataQueryParams.set("unitId",this.playerData.unitId),this.audioDataQueryParams.set("userId",this.user.getUserId()),this.audioDataQueryParams.set("publisherUserId",this.playerData.publisherUserId),this.audioDataQueryParams.set("isLegacyBrowser",window.TRINITY_PLAYER.isLegacyBrowser),this.audioDataQueryParams.set("isPartitioningSupport",String(Number(this.user.cookieStorageObject.isPartitioningSupport))),this.audioDataQueryParams.set("version",this.parentWindowQueryParams.get("TRINITY_VERSION")||this.playerData.version),this.audioDataQueryParams.set("useBunnyCDN",window.TRINITY_PLAYER.options.useBunnyCDN),this.audioDataQueryParams.set("abTestAlias",this.playerData.abTestAlias),this.audioDataQueryParams.set("adsDurationThreshold",this.playerData.adsDurationThreshold),this.audioDataQueryParams.set("multipleArticlesAlg",this.parentWindowQueryParams.get("TRINITY_MULTIPLE_ARTICLES_ALG")||this.tagScriptQueryParams.get("multipleArticlesAlg")),this.audioDataQueryParams.set("forceDemandID",this.parentWindowQueryParams.get("TRINITY_FORCE_DEMANDID")),this.audioDataQueryParams.set("brandedDemandId",this.parentWindowQueryParams.get("TRINITY_BRANDED_DEMAND_ID")||this.tagScriptQueryParams.get("brandedDemandId")),this.audioDataQueryParams.set("scDemandId",this.parentWindowQueryParams.get("TRINITY_SC_DEMAND_ID")||this.tagScriptQueryParams.get("scDemandId")),this.audioDataQueryParams.set("displayExpandedDemandId",this.parentWindowQueryParams.get("TRINITY_DISPLAY_EXPANDED_DEMAND_ID")),this.audioDataQueryParams.set("displayOverlayDemandId",this.parentWindowQueryParams.get("TRINITY_DISPLAY_OVERLAY_DEMAND_ID")),this.audioDataQueryParams.set("displayExpandedEnabled",this.parentWindowQueryParams.get("TRINITY_DISPLAY_EXPANDED_ENABLED")),this.audioDataQueryParams.set("displayOverlayEnabled",this.parentWindowQueryParams.get("TRINITY_DISPLAY_OVERLAY_ENABLED")),this.audioDataQueryParams.set("audioVariantId",this.parentWindowQueryParams.get("TRINITY_AUDIO_VARIANT_ID")||this.tagScriptQueryParams.get("audioVariantId")),this.audioDataQueryParams.set("trinityLoadingDelay",this.parentWindowQueryParams.get("TRINITY_LOADING_DELAY")),this.audioDataQueryParams.set("cf",e),this.audioDataQueryParams.set("themeId",this.themeId),this.audioDataQueryParams.set("unitType",this.playerData.unitType),this.audioDataQueryParams.set("playerType",this.playerData.playerType),H.A.removeEmptyValues(this.audioDataQueryParams);const r=this._createIFrame({url:`https://${a}/player/trinity-player.php?${this.audioDataQueryParams.toString()}`});this._addIframeStyles(),t.push(r),this.fab=new Ie({playerId:this.playerId,isMobile:this.isMobile,iframeEl:this.iframeEl,parentWindowQueryParams:this.parentWindowQueryParams}),this.fab.FABOnly?this.wrapperEl.classList.add("fab-only"):(this.wrapperEl.style.minHeight=this.styles.playerHeightPx,this.isMobile||(this.wrapperEl.style.minWidth=this.theme.get({property:"min-width",isDark:this.isDark}))),this.wrapperEl.appendChild(this.iframeEl),this.logTime.log({eventName:q.events.TRINITY_TTS_INJECTOR_IFRAME_MADE_REQUEST_SINCE_INIT,value:Date.now()-Yt}),this.viewability=new Ae({iframeEl:this.iframeEl}),this.viewability.init(),this._listenPostMessages(),Promise.all(t).then((async e=>{const t=e[0];this.depart.updatePublisherSections(t.publisherSectionData);const a=this.playerData.estimatedDuration||e[1];if(a&&(t.estimatedDuration=a),this.postMessageHelper.sendToPlayer({action:l.A.privateMessages.contentData,message:t}),this.fab.init(),this.playerData.displayOverlay.isAllowedIframe||this.playerData.displayExpanded.isAllowedIframe)return this._initDisplay();"1"!==this.playerData.isIframe&&this._initDisplay()})).catch((e=>{this.depart.trackError(this.depart.EVENTS.error,`Can't render player. Error: ${e.stack||e.message||JSON.stringify(e)}`),window.TRINITY_PLAYER.api._internal.removePlayer(this.playerId),this._hideAppendElement()}))}async _initDisplay(){if(this.playerData.displayExpanded?.isEnabled||this.playerData.displayOverlay?.isEnabled||"1"===this.parentWindowQueryParams.get("TRINITY_DISPLAY_EXPANDED_ENABLED")||"1"===this.parentWindowQueryParams.get("TRINITY_DISPLAY_OVERLAY_ENABLED")){try{Vt=await I.load({fn:async()=>(await __webpack_require__.e(287,"high").then(__webpack_require__.bind(__webpack_require__,1393))).default,moduleName:"read-content-hook",depart:this.depart})}catch(e){return}this.displayManager=new Vt({playerId:this.playerId,displayId:this.playerId,playerNode:this.wrapperEl,i18n:this.i18n,departData:{commonData:_e.A.commonData,enableTestMode:_e.A.enableTestMode,disabledDepartEvents:_e.A.disabledDepartEvents},styles:{backgroundColor:this.backgroundColor},displayExpandedConfig:this.playerData.displayExpanded,displayOverlayConfig:this.playerData.displayOverlay,domain:window.TRINITY_PLAYER.domain,callbacks:{show:e=>{e===Vt.constants.displayModes.displayOverlay&&(this.depart.setPlayerMode(e),window.TRINITY_PLAYER.api._internal.setPlayerMode({value:e,playerId:this.playerId}),this.fab.toggleForcePermanently(!0))},hide:()=>{this.depart.setPlayerMode("default"),this.fab.toggleForcePermanently(!1)}}}),this.displayManager.init()}}_hideAppendElement(){this.appendType.el.style.minHeight="0"}async _readTextFromPage(){let e=this.parentWindowQueryParams.get("TRINITY_HEADLINE_SELECTOR");e=e?atob(e):this.playerData.headlineSelector,this.playerData.headlineSelector=e;let t=this.parentWindowQueryParams.get("TRINITY_ARTICLE_SELECTOR");t=t?atob(t):this.playerData.articleSelector,this.playerData.articleSelector=t;const a=Boolean(Number(this.parentWindowQueryParams.get("TRINITY_IS_NEW_TEXT_APPROACH")||this.playerData.isNewTextApproach));this.playerData.isNewTextApproach=a;let r=this.parentWindowQueryParams.get("TRINITY_FILTERS");r=r?JSON.parse(r):this.playerData.filters,this.playerData.filters=r;let i=this.playerData.selectorVersion||1;r?.length||(i=2);const n=Number(this.parentWindowQueryParams.get("TRINITY_SELECTOR_VERSION"));return n&&(i=n),this.readPageContent=new fe({playerId:this.playerId,pageURL:this.pageURL,selectorVersion:i,selector:this.playerData.textSelector,headlineSelector:e,articleSelector:t,isNewTextApproach:a,filters:r,language:this.playerData.language,tagScriptQueryParams:this.tagScriptQueryParams}),this.readPageContent.start()}_createWrapper(){const e=document.createElement("div");return e.className=n.wrapperClass,e.setAttribute("data-player-id",this.playerId),e.setAttribute("data-state","not_initialized"),e.setAttribute("data-player-type",this.playerData.playerType),e}_createIFrame({url:e}){return this.iframeEl=document.createElement("iframe"),this.iframeEl.className="trinity-iframe trinity-player",this.iframeEl.name=`audioFrame_${this.playerId}`,this.iframeEl.style.height=this.styles.playerHeightPx,this.iframeEl.src=e,this.iframeEl.title="Trinity Audio Player",this.iframeEl.setAttribute("allow","web-share"),this.iframeEl.setAttribute("sandbox","allow-scripts allow-same-origin"),new Promise(((e,t)=>{this.iframeEl.onerror=t,this.iframeEl.onload=async()=>{this.logTime.log({eventName:q.events.TRINITY_TTS_INJECTOR_IFRAME_LOADED_SINCE_INIT,value:Date.now()-Yt}),this.postMessageHelper.sendToPlayer({action:l.A.privateMessages.playerData,message:{playerId:this.playerId,FABOnly:this.fab.FABOnly,contentURL:this.contentURL,contentHash:await H.A.getContentHash(this.contentURL),backgroundColor:this.backgroundColor,isDev:window.TRINITY_PLAYER.isDev,isMultiplePlayers:window.TRINITY_PLAYER.api.isMultiplePlayers,enableTestMode:"1"===this.parentWindowQueryParams.get("TRINITY_TEST_QP"),isShareEnabled:this.playerData.isShareEnabled||"1"===this.tagScriptQueryParams.get("shareEnabled")||"1"===this.parentWindowQueryParams.get("TRINITY_SHARE_ENABLED"),shareEndpoint:this.playerData.shareEndpoint,userData:this.user.cookieStorageObject.data,cms:this.tagScriptQueryParams.get("cms"),subscriber:this.tagScriptQueryParams.get("subscriber"),tsServer:window.TRINITY_PLAYER.tsServer,ts:window.TRINITY_PLAYER.ts,voiceGender:this.tagScriptQueryParams.get("voiceGender"),isTranslationEnabled:this.playerData.isTranslationEnabled,publisherSections:this.tagScriptQueryParams.get("publisherSections"),playerMode:this.playerData.playerMode,subscriptionLockedURL:this.subscriptionLockedURL,themeId:this.themeId,themeData:this.themeData,i18nPreloadedLanguages:this.i18n.languages}}),this.loader.remove(),this.iframeEl.classList.add("loaded"),e()}}))}_addIframeStyles(){const e=this.theme.get({property:"iframe",isDark:this.isDark});if(e){const t=`trinity-player-${this.playerId}`;this.iframeEl.classList.contains(t)||this.iframeEl.classList.add(t);const a=`.trinity-iframe.${t}:not(.fab-view) {${e}}`;let r=document.querySelector(`#${t}`);r?r.innerText=a:(r=ae.createCSSTag(a),r.id=t,document.body.appendChild(r))}}_attachWrapperToDOM(e){switch(this.appendType.type){case"PLACEHOLDER":"after"===this.appendType.position?this.appendType.el.after(e):"before"===this.appendType.position?this.appendType.el.before(e):this.appendType.el.appendChild(e);break;case"DYNAMIC":this.appendType.el.parentNode.insertBefore(e,this.appendType.el);break;case"BODY":this.appendType.el.insertBefore(e,this.appendType.el.firstElementChild)}return this.appendType}_getAppendType(){let e;const{selector:t,position:a}=this.playerData.placeholderSelector||{};return t&&a&&(e=document.querySelector(t),e)?{type:"PLACEHOLDER",el:e,position:a}:(e=this._getPlaceholder(),e?{type:"PLACEHOLDER",el:e}:this.tagScript&&"head"!==this.tagScript.parentNode.nodeName.toLowerCase()?{type:"DYNAMIC",el:this.tagScript}:{type:"BODY",el:document.body})}_getPlayerHeight(){if(!this.isMobile&&this.playerData.displayOverlay.isEnabled){let e=P.A.displayOverlayDefaults.height;return"stripe"===this.playerData.displayOverlay.returnToPlayer?.type&&(e+=P.A.returnToPlayerDefaults.stripe.height),e}return this.theme.get({property:"height",isDark:this.isDark})}_getPlaceholder(){const e=document.getElementsByClassName(n.placeholderClass);if(e.length){const t=e[e.length-1];return t.style.minHeight=this.styles.playerHeightPx,t}}_getTagScript(){return document.querySelector(`script[src*=trinity][data-player-id="${this.playerId}"]`)}_getHostName(){return(window.TRINITY_PLAYER.options.serverSubdomain||"")+new URL(this.tagScriptSrc).hostname}_listenPostMessages(){window.addEventListener("message",(async t=>{if(t.data?.type!==l.A.PRIVATE_MESSAGE_TYPE)return;const a=t.source;if(!this.iframeEl.isConnected)return;const r=t.data.value?.action,i=t.data?.value?.message;switch(r){case l.A.privateMessages.ready:this.devToolsHandler.init(),this.logTime.log({eventName:q.events.TRINITY_TTS_INJECTOR_CONFIRM_PLAYER_READY,value:Date.now()-Yt});break;case l.A.privateMessages.notifyAboutFirstClick:this.user.setFirstClickTS(i?.ts),window.TRINITY_PLAYER.api._internal.updateUserData({value:this.user.cookieStorageObject.data,targetSource:a}),this.depart.playerMode===P.A.displayModes.displayOverlay&&this.fab.toggleForcePermanently(!1),this.iconPlayer?.moveIconPlayerToPlaceholder();break;case l.A.privateMessages.setAudioData:this.audioData=e.A.getUnitData(i),this.theme=new pe({themeData:this.audioData.themeData,pageURL:this.audioData.pageURL});break;case l.A.privateMessages.hidePlayer:this.iframeEl.classList.remove("loaded")}Ut.open({action:r,message:i,playerData:this.playerData,subscriptionLockedURL:this.subscriptionLockedURL,pageURL:this.pageURL,theme:this.theme,i18n:this.i18n})}))}_hidePoweredByExternal(){(new re).hide()}}class qt{constructor(){this.logger=o()(`${n.logPrefix}:InjectorScript:API`),window.TRINITY_PLAYER.renderCount=0,window.addEventListener("message",(t=>{const a=t.data?.value?.action;if(a===l.A.publicMessages.translateTo){const e=t.data.value.message;window.TRINITY_PLAYER.players[e.playerId].translateTo=e.translateTo}if(t.data?.type===l.A.PRIVATE_MESSAGE_TYPE){if(a===l.A.privateMessages.setArticleMetadata){const e=t.data.value.message;e&&(Bt=e)}if(a===l.A.privateMessages.getTimeUpdateData&&(Wt=t.data.value.message),a===l.A.privateMessages.setAudioData){const a=e.A.getUnitData(t.data.value.message);_e.A.constDepartData.contentMode=a.contentMode,_e.A.constDepartData.geo=a.geo,_e.A.constDepartData.ip=a.ip,_e.A.constDepartData.imp_id=a.imp_id,_e.A.commonData.contentMode=a.contentMode,_e.A.commonData.geo=a.geo,_e.A.commonData.ip=a.ip,_e.A.commonData.imp_id=a.imp_id}}}))}async createPlayer(e=this.getFirstPlayer()){window.TRINITY_PLAYER.players[e].__initializing=!0;ae.getPlayerIframeByID(e)||(++window.TRINITY_PLAYER.renderCount,window.TRINITY_PLAYER.ts=Date.now(),$t=new Ht(e),await $t.render())}removePlayer(e=this.getFirstPlayer()){const t=ae.getPlayerIframeByID(e);t&&(this.logger(`removing playerId: ${e}`),this.stop(e),t.parentNode?.remove())}generateAudio(e=this.getFirstPlayer()){this._sendPostMessage({playerId:e,action:l.A.privateMessages.generateAudio})}async play(e=this.getFirstPlayer()){try{return await this._getValueFromPlayer({playerId:e,actionName:l.A.privateMessages.playerPlay})}catch(e){return this.logger(`play(). Error: ${e}`),!1}}pause(e=this.getFirstPlayer()){this._sendPostMessage({playerId:e,action:l.A.privateMessages.playerPause})}resizeWindow(e,t=this.getFirstPlayer()){this._sendPostMessage({playerId:t,action:l.A.privateMessages.resizeWindow,message:e})}isPaused(e=this.getFirstPlayer()){return"pause"===window.TRINITY_PLAYER.players[e].state}pauseAll(){Object.keys(window.TRINITY_PLAYER.players).forEach((e=>{window.TRINITY_PLAYER.players[e].isTrinityEnabled&&this.pause(e)}))}stop(e=this.getFirstPlayer()){this._sendPostMessage({playerId:e,action:l.A.privateMessages.playerStop})}async getDuration(e=this.getFirstPlayer()){try{return await this._getValueFromPlayer({playerId:e,actionName:l.A.privateMessages.getDuration})}catch(e){this.logger(`getDuration(). Error: ${e}`)}}async getVolume(e=this.getFirstPlayer()){try{return await this._getValueFromPlayer({playerId:e,actionName:l.A.privateMessages.getVolume})}catch(e){this.logger(`getVolume(). Error: ${e}`)}}setVolume(e,t=this.getFirstPlayer()){this._sendPostMessage({playerId:t,action:l.A.privateMessages.setVolume,message:e})}setMuted(e,t=this.getFirstPlayer()){this._sendPostMessage({playerId:t,action:l.A.privateMessages.setMuted,message:e})}setCurrentTime(e,t=this.getFirstPlayer()){this._sendPostMessage({playerId:t,action:l.A.privateMessages.setCurrentTime,message:e})}async getCurrentTime(e=this.getFirstPlayer()){try{return await this._getValueFromPlayer({playerId:e,actionName:l.A.privateMessages.getCurrentTime})}catch(e){this.logger(`getCurrentTime(). Error: ${e}`)}}getTimeUpdateData(){return Wt}setUserId(e,t=this.getFirstPlayer()){window.TRINITY_PLAYER.players[t].publisherUserId=e,this.updateUserData({value:{publisher_user_id:e},playerId:t})}updateUserData({value:e,playerId:t=this.getFirstPlayer(),targetSource:a}){this._sendPostMessage({playerId:t,action:l.A.privateMessages.updateUserData,message:e,targetSource:a})}setPlayerMode({value:e,playerId:t=this.getFirstPlayer()}){this._sendPostMessage({playerId:t,action:l.A.privateMessages.setPlayerMode,message:e})}getMetadata(){return Bt||$t?.readPageContent.metadata}getPlayerIframe(e){if(!e)throw"Missed playerId";const t=ae.getPlayerIframeByID(e);if(!t)throw`Cannot find player iframe for playerId: ${e}`;return t}getFirstPlayer(){return Object.keys(window.TRINITY_PLAYER.players)[0]}getFirstPlayerData(){return window.TRINITY_PLAYER.players[this.getFirstPlayer()]}getResultReadingText({selector:e,filters:t,version:a}){if(!e)return console.error("selector is missing");if(!t)return console.error("filters is missing");t.unshift({name:"nodefiltered",params:n.excludeTags,isDefaultFilters:!0});return(new D).parse({node:document.documentElement,filters:t,selector:e,version:a})}_sendPostMessage({playerId:e,action:t,message:a,targetSource:r}){(r||this.getPlayerIframe(e).contentWindow).postMessage({type:l.A.PRIVATE_MESSAGE_TYPE,value:{action:t,message:a,playerId:e}},"*")}_getValueFromPlayer({playerId:e=this.getFirstPlayer(),actionName:t}){return new Promise(((a,r)=>{const i=e=>{e.data?.type===l.A.PRIVATE_MESSAGE_TYPE&&e.data.value?.action===t&&(a(e.data.value.message),clearTimeout(n),window.removeEventListener("message",i))},n=setTimeout((()=>{r("Timeout to get postMessage value from player"),window.removeEventListener("message",i)}),2e3);window.addEventListener("message",i),this._sendPostMessage({playerId:e,action:t})}))}}function Qt(e){_e.A.track(_e.A.EVENTS.apiUsed,{text_value:e})}window.TRINITY_PLAYER.api=new class{constructor(){this.isMultiplePlayers=!!window[n.varMultiplePlayers],this._internal=new qt}async createPlayer(e){Qt("createPlayer"),await this._internal.createPlayer(e)}removePlayer(e){Qt("removePlayer"),this._internal.removePlayer(e)}generateAudio(e){Qt("generateAudio"),this._internal.generateAudio(e)}async play(e){return Qt("play"),await this._internal.play(e)}pause(e){Qt("pause"),this._internal.pause(e)}pauseAll(){Qt("pauseAll"),this._internal.pauseAll()}stop(e){Qt("stop"),this._internal.stop(e)}async getDuration(e){return Qt("getDuration"),this._internal.getDuration(e)}async getVolume(e){return Qt("getVolume"),this._internal.getVolume(e)}setVolume(e,t){return Qt(`setVolume: ${e}`),this._internal.setVolume(e,t)}setMuted(e,t){return Qt(`setMuted: ${e}`),this._internal.setMuted(e,t)}setCurrentTime(e,t){return Qt(`setCurrentTime: ${e}`),this._internal.setCurrentTime(e,t)}getCurrentTime(e){return Qt("getCurrentTime"),this._internal.getCurrentTime(e)}setUserId(e,t){Qt("setUserId"),this._internal.setUserId(e,t)}updateUserData({value:e,playerId:t,targetSource:a}){Qt("updateUserData"),this._internal.updateUserData(e,t,a)}getMetadata(){return Qt("getMetadata"),this._internal.getMetadata()}getFirstPlayer(){return this._internal.getFirstPlayer()}};var zt=__webpack_require__(8129),Gt={};Gt.styleTagTransform=Ue(),Gt.setAttributes=xe(),Gt.insert=Ne().bind(null,"head"),Gt.domAPI=Re(),Gt.insertStyleElement=Oe();ke()(zt.A,Gt),zt.A&&zt.A.locals&&zt.A.locals;const Jt=ae.getValidPageUrl([window.location.href,document.referrer,window.TRINITY_PLAYER.pageURL]),Kt=window.TRINITY_PLAYER.api._internal.getFirstPlayerData();window.onerror=(...e)=>{ae.logWindowError({userAgentData:window.TRINITY_PLAYER.userAgentData,version:window.TRINITY_PLAYER.version,pageURL:Jt,topDomain:new URL(Jt).hostname,unitId:Kt.unitId,language:Kt.language,uuid:window.TRINITY_PLAYER.userId},...e)};const Zt=e=>{e.source?.postMessage({type:l.A.PRIVATE_MESSAGE_TYPE,value:{action:l.A.privateMessages.pausedAll}},"*")};(async()=>{let t,a;_e.A.setContentData({content_url:Kt.contentURL,content_hash:await H.A.getContentHash(Kt.contentURL)}),_e.A.setPlayerMode(Kt.playerMode||"default"),_e.A.track(_e.A.EVENTS.injectorImp);let r=0;const i=["KeyT","KeyT","KeyT"];let s;window.addEventListener("keydown",(async t=>{if(i[r]!==t.code)return void(r=0);const a=document.activeElement.shadowRoot?.activeElement||document.activeElement;if(["TEXTAREA","INPUT"].includes(a.nodeName))return;if(a.getAttribute("contenteditable"))return;if(clearTimeout(s),s=setTimeout((()=>{r=0}),1e3),++r<i.length)return;const o=new Audio;o.src=`${e.A.beforeRollPath}/en/${e.A.activatedFileName}`,await o.play(),document.querySelector(`.${n.wrapperClass} iframe`).focus()})),window.addEventListener("message",(e=>{const r=e.data?.value?.message;if(e.data?.type===l.A.PRIVATE_MESSAGE_TYPE)switch(e.data.value?.action){case l.A.publicMessages.playClicked:case l.A.publicMessages.resumed:{const t=Object.keys(window.TRINITY_PLAYER.players).filter((t=>t!==e.data.value));t.forEach((e=>{window.TRINITY_PLAYER.players[e].isTrinityEnabled&&window.TRINITY_PLAYER.api._internal.pause(e)})),ae.checkUntil((()=>t.every((e=>"play"!==window.TRINITY_PLAYER.players[e].state))),Zt.bind(void 0,e));break}case l.A.privateMessages.changeAudioType:r?.audioType&&(window.TRINITY_PLAYER.players[e.data.value?.playerId].audioTypePlaying=r?.audioType);break;case l.A.privateMessages.subscribeToScrollData:t=t||document.documentElement.scrollTop,a=()=>{!function(e,t){e.source?.postMessage({type:l.A.PRIVATE_MESSAGE_TYPE,value:{action:l.A.privateMessages.subscribeToScrollData,message:{scrollTop:document.documentElement.scrollTop,initialScrollTop:t}}},"*")}(e,t)},window.addEventListener("scroll",a);break;case l.A.privateMessages.unsubscribeToScrollData:window.removeEventListener("scroll",a);break;case l.A.privateMessages.updateState:window.TRINITY_PLAYER.players[e.data.value?.playerId].state=r,document.querySelector(`.${n.wrapperClass}`).setAttribute("data-state",r)}e.data===l.A.privateMessages.removePlayer&&window.TRINITY_PLAYER.api._internal.removePlayer()})),window.TRINITY_PLAYER.isLoaded=!0,window.TRINITY_PLAYER.constants={postMessageType:l.A.PUBLIC_MESSAGE_TYPE},window.TRINITY_PLAYER.message=l.A.publicMessages})()}()})();